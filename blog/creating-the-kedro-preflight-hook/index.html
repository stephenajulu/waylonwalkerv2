<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.6387573dd141eec96567.css">@font-face{font-family:WaterLilly;src:url(/static/Waterlily\ Script-e689b24dcffc5d305e2e53bd26a20659.ttf) format("ttf");font-weight:400;font-style:normal}@font-face{font-family:Waterlily-Regular;src:url(/static/WaterlilyScript-09f072259c55effe81e925ad8be99eb0.eot);src:url(/static/WaterlilyScript-09f072259c55effe81e925ad8be99eb0.eot?#iefix) format("embedded-opentype"),url(/static/WaterlilyScript-8e3ea05c3ff373e01caba5b42710f756.otf) format("opentype"),url(/static/WaterlilyScript-c1db69a5cd42bcb9808b50bd728277de.svg) format("svg"),url(/static/WaterlilyScript-6ea5726e94a3ddd2ce1b104fc38045eb.ttf) format("truetype"),url(/static/WaterlilyScript-3f9a9863444a03b055f26fb889b6f793.woff) format("woff"),url(/static/WaterlilyScript-6dbaf16ee523b8ccca72a8d4188406aa.woff2) format("woff2");font-weight:400;font-style:normal}h1,h2,h3,h4,h5,h6{font-family:Space Mono,monospace}h1{color:#6a65ca;color:#ff66c4!important}h2{color:#d68fbb!important}h3,p{font-family:Space Mono,monospace}p{color:hsla(0,0%,100%,.85)}blockquote,code{font-family:Space Mono,monospace}pre{font-family:Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif}a,pre{font-family:Space Mono,monospace}a{color:#6f6bae;-webkit-text-decoration-color:#daa520;text-decoration-color:#daa520}body::-webkit-scrollbar{width:1rem}@media (max-width:1000px){body::-webkit-scrollbar{width:.5rem}}@media (max-width:425px){body::-webkit-scrollbar{width:.25rem}}html{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:#5651b7}body::-webkit-scrollbar-track{background:#392e3d}body::-webkit-scrollbar-thumb{background-color:#5651b7;border-radius:.25rem;background:#706bd0;background:linear-gradient(180deg,#706bd0,#5651b7);border:1px solid rgba(86j,81,183,.5)}html{font-family:Farsan,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;overflow-x:hidden}::selection{background:#ffcf0d}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Amiko,sans-serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p,table{padding:0;margin:0 0 1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}@media only screen and(max-width: 480px),tt{html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#abb2bf;background:none;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#9aa2b1}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282c34}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#5c6370}.token.punctuation{color:#abb2bf}.token.selector,.token.tag{color:#e06c75}.token.attr-name,.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol{color:#d19a66}.token.attr-value,.token.builtin,.token.char,.token.inserted,.token.string{color:#98c379}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#56b6c2}.token.atrule,.token.keyword{color:#c678dd}.token.function{color:#61afef}.token.important,.token.regex,.token.variable{color:#c678dd}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre.line-numbers{padding-left:3.8em;counter-reset:linenumber}pre.line-numbers,pre.line-numbers>code{position:relative}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:0;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#5c6370;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.22.15"/><title data-react-helmet="true">creating the kedro-preflight hook</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" href="https://twitter.com/_WaylonWalker" rel="me"/><link data-react-helmet="true" href="https://github.com/waylonwalker" rel="me"/><link data-react-helmet="true" href="https://dev.to/waylonwalker" rel="me"/><link data-react-helmet="true" href="https://www.instagram.com/_waylonwalker/" rel="me"/><link data-react-helmet="true" href="https://medium.com/@waylonwalker" rel="me"/><link data-react-helmet="true" href="mailtto:waylon@waylonwalker.com" rel="me"/><link data-react-helmet="true" href="mailtto:quadmx08@gmail.com" rel="me"/><link data-react-helmet="true" rel="webmention" href="https://webmention.io/waylonwalker.com/webmention"/><link data-react-helmet="true" rel="pingback" href="https://webmention.io/waylonwalker.com/xmlrpc"/><meta data-react-helmet="true" name="og:type" content="article"/><meta data-react-helmet="true" name="og:article:author" content="Waylon Walker"/><meta data-react-helmet="true" name="og:image:width" content="1000"/><meta data-react-helmet="true" name="og:image:height" content="420"/><meta data-react-helmet="true" name="og:locale" content="en_US"/><meta data-react-helmet="true" name="keywords" content="python, kedro, datascience, bash, command line, javascript, gatsby"/><meta data-react-helmet="true" name="twitter:site" content="@_waylonwalker"/><meta data-react-helmet="true" name="twitter:creator" content="@_waylonwalker"/><meta data-react-helmet="true" name="monetization" content="$ilp.uphold.com/MGN2ni2YMXaQ"/><meta data-react-helmet="true" name="title" content="creating the kedro-preflight hook | Waylon Walker"/><meta data-react-helmet="true" name="description" content="Kedro Hooks Intro - kedro hooks are an exciting upcoming feature of kedro `0.16.0`.  They allow you to hook into `catalog_created`,`pipeline_run`, and `node_run`(nouns). With a `before`, or `after` (adjective).  This really reminds me of reacts lifecycle hooks, that let you hook into various state of react web components.  This is going to make kedro so extendable by the community.  I am super pumped to see what the community is able to do with this ability."/><meta data-react-helmet="true" name="og:title" content="creating the kedro-preflight hook | Waylon Walker"/><meta data-react-helmet="true" name="og:url" content="https://waylonwalker.com/blog/creating-the-kedro-preflight-hook/"/><meta data-react-helmet="true" name="og:article:published_time" content="2020-05-10T07:12:00.000Z"/><meta data-react-helmet="true" name="og:article:modified_time" content="2020-05-10T07:12:00.000Z"/><meta data-react-helmet="true" name="og:description" content="Kedro Hooks Intro - kedro hooks are an exciting upcoming feature of kedro `0.16.0`.  They allow you to hook into `catalog_created`,`pipeline_run`, and `node_run`(nouns). With a `before`, or `after` (adjective).  This really reminds me of reacts lifecycle hooks, that let you hook into various state of react web components.  This is going to make kedro so extendable by the community.  I am super pumped to see what the community is able to do with this ability."/><meta data-react-helmet="true" name="og:image" content="https://www.waylonwalker.com/static/4c36fae820f88920f1e380da56b6ed12/a8734/kedro-hooks.png"/><meta data-react-helmet="true" name="twitter:title" content="creating the kedro-preflight hook | Waylon Walker"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="https://www.waylonwalker.com/static/4c36fae820f88920f1e380da56b6ed12/a8734/kedro-hooks.png"/><meta data-react-helmet="true" name="twitter:description" content="Kedro Hooks Intro - kedro hooks are an exciting upcoming feature of kedro `0.16.0`.  They allow you to hook into `catalog_created`,`pipeline_run`, and `node_run`(nouns). With a `before`, or `after` (adjective).  This really reminds me of reacts lifecycle hooks, that let you hook into various state of react web components.  This is going to make kedro so extendable by the community.  I am super pumped to see what the community is able to do with this ability."/><style data-styled="" data-styled-version="5.0.1">.kxXHRn{z-index:9999;box-shadow:0rem 0rem 2rem rgba(0,0,0,.4);background:rgb(40,44,52);background:linear-gradient(81deg,rgba(40,44,52,1) 0%,#332D3A 90%,#392E3D 95%);margin-bottom:2rem;}
.kxXHRn .content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:auto;max-width:800px;}
.kxXHRn ul{margin:0;list-style-type:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:1rem;position:-webkit-sticky;position:sticky;top:0;z-index:999;}
.kxXHRn ul a{color:#FEDD58;-webkit-text-decoration:none;text-decoration:none;font-family:'Amiko',sans - serif;}
.kxXHRn ul li.btn{position:relative;padding:.4rem .8rem;border-radius:.1rem;-webkit-transition:-webkit-transform 100ms,box - shadow 100ms;-webkit-transition:transform 100ms,box - shadow 100ms;transition:transform 100ms,box - shadow 100ms;background:rgb(82,81,103);background:linear-gradient(97deg,rgba(72,71,82,1) 0%,rgba(62,61,82,1) 100%);box-shadow:.2rem .2rem .4rem rgba(0,0,0,.5);margin:0 .2rem;}
.kxXHRn ul li:hover{box-shadow:.2rem .2rem .2rem rgba(0,0,0,.5);-webkit-transform:translate(.2rem,.2rem);-ms-transform:translate(.2rem,.2rem);transform:translate(.2rem,.2rem);}
data-styled.g1[id="NavStyles-sc-1vnatiy-0"]{content:"kxXHRn,"}
.bYHjiR{font-size:1.2rem;color:#FF66C4;}
.bYHjiR ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.bYHjiR li{padding:.3rem;}
data-styled.g2[id="social__SocialStyle-sc-13utdc-0"]{content:"bYHjiR,"}
.fZxQeY{max-width:500px;margin:auto;margin-bottom:5rem;padding:2rem 5rem 1rem;background:linear-gradient(81deg,rgba(40,44,52,1) 0%,#3E3846 100%);box-shadow:-8rem -6rem 8rem -6rem rgba(253,221,88,.2),4rem 0 8rem rgba(88,82,185,.3),0rem 0rem 2rem -1.6rem rgba(255,215,70,.8);color:#D68FBB;text-align:center;}
.fZxQeY a{display:block;background:white;text-align:center;text-transform:uppercase;font-weight:bold;padding:1rem;border-radius:5px;background:linear-gradient(120deg,hsla(323deg,100%,90%,1) 0%,#D68FBB 50%);font-size:1.5rem;color:#2B2E37;}
.fZxQeY p{margin:2rem 0 0;}
data-styled.g3[id="Subscribe__SubscribeStyle-f859a3-0"]{content:"fZxQeY,"}
.fxMNCp{padding:0;margin:0;background-size:800px;min-height:100vh;background:rgb(40,44,52);background:linear-gradient(81deg,rgba(40,44,52,1) 0%,rgba(58,46,61,1) 100%);}
.fxMNCp section{margin-bottom:5rem;}
data-styled.g4[id="LayoutStyles-sc-1h3z5os-0"]{content:"fxMNCp,"}
.dgWmqb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
data-styled.g21[id="blog-post__BlogPostWrapper-t5wcn1-0"]{content:"dgWmqb,"}
.dgFMrd{background:rgba(51,0,38,.13);background:hsla(234,33%,15%,0.66);overflow:hidden;display:block;margin:.2rem;max-width:1000px;width:95%;position:relative;margin:2rem 0;padding:1rem;border-radius:2px;box-shadow:.2rem .2rem 1rem rgba(0,0,0,.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:whitesmoke;}
@media (max-width:700px){.dgFMrd{width:100%;margin:0rem;padding:.3rem;}.dgFMrd h1{font-size:2.5rem;}}
.dgFMrd a{color:#6F6BAE;-webkit-text-decoration-color:#330026;text-decoration-color:#330026;-webkit-text-decoration-color:goldenrod;text-decoration-color:goldenrod;}
.dgFMrd p>img{box-shadow:.2rem .2rem 1rem rgba(51,0,38,.4);max-width:1000px;width:95vw;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;justify-self:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-items:center;margin:auto;}
.dgFMrd p:has(>img){margin:8rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.dgFMrd blockquote{color:#777;border-left:2px solid goldenrod;font-size:1rem;padding:1rem 0 1rem .5rem;margin:1.5rem 0;}
.dgFMrd hr{border-top:1px solid goldenrod;background:none;margin:1rem 2rem;}
.dgFMrd h1{margin-top:5rem;}
.dgFMrd .tweet{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin:1rem 0;}
.dgFMrd .tweet a{display:inline-block;border-radius:5px;padding:.5rem 1rem;background:#645FC4;color:#FEDD58;-webkit-text-decoration:none;text-decoration:none;}
data-styled.g22[id="blog-post__BlogPostStyles-t5wcn1-1"]{content:"dgFMrd,"}
</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=3d035073faf24158cc4068764667d892"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#322D39"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=3d035073faf24158cc4068764667d892"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=3d035073faf24158cc4068764667d892"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Waylon Walker&#x27;s Blog Feed" href="/blog/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-8f308a0ac5b4769aadcb.js"/><link as="script" rel="preload" href="/framework-33645abd229bbd2597c4.js"/><link as="script" rel="preload" href="/app-e683bae23b87841ae0a7.js"/><link as="script" rel="preload" href="/styles-9b6f388623a2ec93d35f.js"/><link as="script" rel="preload" href="/5e2a4920-0c5238b9439cc4cd8edf.js"/><link as="script" rel="preload" href="/f8769c95dac0e5b26b0bc8fbc2bb848632ebeca5-b8f4107fb6118817e114.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-cd107e7acaccbb1379bd.js"/><link as="fetch" rel="preload" href="/page-data/blog/creating-the-kedro-preflight-hook/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="LayoutStyles-sc-1h3z5os-0 fxMNCp"><div class="headroom-wrapper"><div style="position:relative;top:0;left:0;right:0;z-index:9999;-webkit-transform:translate3D(0, 0, 0);-ms-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)" class="headroom headroom--unfixed"><nav class="NavStyles-sc-1vnatiy-0 kxXHRn"><div class="content"><ul><li><a aria-label="home" href="/"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:30px;width:30px;margin-top:.2rem;margin-right:1rem"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFxklEQVQ4y0WUeVDTVxDHf7Z12jqFIlWkWMACUVQcEawcIXLLZRQMEJAzCQYIBAlJSAi5fjkIlyIOwSCmEQRG61E86olgPdA6PRynnU4v7clY+1evmbb58b6NaWt3Zmd3Z95+5vv2zVtqqLyCemJDZaXUxPZyb27LrPEzJ9fm6+Mb+to3yi5qNqjfb13TfrclTHu6OdhgloV1ZDcFWQMbfemFT87HUIFUy2IL9dSGy/neqOdyF/RvF2T3ZNdctaXVu21JMhhildBGa6FZZ4I2qhOt4VY0v2b6uTnQMi59xZws9TUt3rtp2Nsv9zN7YBVF3mJkF3/hIL+spT+/8nd7vgSW9DqYuQqGLmpj2oqU820F2nlZrIlpXm1j5CwP+LVuyAIsX+72N+9s9qWXGcP7/1GnT5BR+JGinFVFzQdLSzFUKkJnvtDtMJjJyPAeIpWUknaViBj19WTi4DCxCHqJLKZrXh7Z41Yt74J8ifmRzM9Y0uKjX/L0ymPibRkuQcGvLmE5BitFjF2txvXrJ4hYWEDSN8dg65ZE5GUmQtZcSbp7lKS+REQkUTQUkd3utlc7ofQ33lP4aNmql/WLqAkJ56Wx2pyLxxoK4Wqocg8IqnHKZSddVgUR7EhBk2AbduSywc14A4LCdNSWZIPPTyGSrCYij+olyggLow0wQeXfvqfNty2YOr47PWe8LuOPIw3bMepRMNQkJrRGSjR1Bfj26hA+v2jH7aM23Dhi9uSD+GZ6GB2KcrQ07CIqtg2qdbZ5XagJmgDNp5rFKjb1tjy5e1KWjiMt+cxEm4D0N1aSbVnxuD5qwqNbo/h6+hDmbhzG3M0RPJxx4tHsEUw5DWgQF0HDpYlmYxdpZ+mhW6p06/zlNdRpNefMOSMX4xoec9woIJ1iHkq4SXhwxeEBjuCbmUMe6LDXH3rgj+9M4O6xTpTx0rA7tQXG+E6iX61lOgJbYQqQmagzhs23zlnzcJTmMcd6a8meRh6kZdmYdunRLeODruViargd4zYJNMI8OAw1mHbqUF2YhvokCawcK6FjtEzXCiU6gnYPUhd0MTev0Ek4ZcxhTnRVEHtrMcyNhdgv5yMzJhRp64NxwaFBl5SH3LgI1O9gY7JPhiczrueI0JVqJpboVqY3pAmdwRI7ddm4bnLGHIszhmTmNJ1HRpQeFaqd+PhMn1eJU1eFD07tw/lBNS4PafDFpQN4MHUILroa6qwK0p1Jk85EBbMvUoqe4F00ddW8quOaaTXOG96YP2vNIid1OaRbshUzTq1nXmP48EQ3vp+dwBUP7P5kH+Y8D/XZxQMYM9dAmyEke9LUpHd9Hfauqvlzb0SNkLpmC8u6Sof/NqVf9QRKzhrTiKk2l1x7U4/Ht0dxe9yKEUutR2m1B96DudkxfHSqFz0NxcSaKsZ+jpSxrxNhH6vi/r7XKxOoW71BvtcswZOz1hW4pIlwX9bHYq8olozSNWRu2oExvQCitA2Q70iGyyDyqnyrV0r0uXwykNVIBhKEzMG15RhglVj3s8pCvV/vpi0w9bp5+U83jCG43MZyT6mjoN6+hhxQ8Mkdlw7Tdg3eG7HieE8TlDtTiTibDXuukAzniP9yxVfAEVU064jkJzrCi328wI8PLX32pnVZ7S1z0J936BAMVK1wV2REzRfHR5CTNjG+f9dJPnlnP7FKCpCfEEEk3KR5Zfo29wiHj8NxxV8NbSopOLiaF+iFzViWeeN3Tp8XxmXL6/LZQY99lgSiqSwPu9IimZ0JYUy/NJ9RFiUxxQnhTHF82LyuNAkp7GhwWNH3+uK28hyxvOWmqNwFT7cNPyPg3yxxIfVcUKrPkmUnS7fE/SLZEoWyxHAUbQwGf1MIKjksVG1e6Ykrf4heGTpIvezHfoYVulQRFueFqdZm/b+1dWVL/y8WLPLnxERuEaevMXgA48KUyAuC5Mhz1ZtXOT2uKNzESnneLyAoMST8xf9a5GvTvfFvAMwN1K+YZLcAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3c44adac3ae6ffd459953e33f52d6464/5db04/8bitcc.png 75w,
/static/3c44adac3ae6ffd459953e33f52d6464/6d161/8bitcc.png 150w,
/static/3c44adac3ae6ffd459953e33f52d6464/630fb/8bitcc.png 300w,
/static/3c44adac3ae6ffd459953e33f52d6464/62b1f/8bitcc.png 450w,
/static/3c44adac3ae6ffd459953e33f52d6464/bc59e/8bitcc.png 512w" sizes="(max-width: 300px) 100vw, 300px" /><img loading="lazy" sizes="(max-width: 300px) 100vw, 300px" srcset="/static/3c44adac3ae6ffd459953e33f52d6464/5db04/8bitcc.png 75w,
/static/3c44adac3ae6ffd459953e33f52d6464/6d161/8bitcc.png 150w,
/static/3c44adac3ae6ffd459953e33f52d6464/630fb/8bitcc.png 300w,
/static/3c44adac3ae6ffd459953e33f52d6464/62b1f/8bitcc.png 450w,
/static/3c44adac3ae6ffd459953e33f52d6464/bc59e/8bitcc.png 512w" src="/static/3c44adac3ae6ffd459953e33f52d6464/630fb/8bitcc.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li><li class="btn"><a href="/blog">Blog</a></li><li class="btn"><a href="/notes">Notes</a></li><li class="btn"><a href="/gratitude">gratitude</a></li><li class="btn"><a href="/newsletter">Newsletter</a></li></ul><div class="social__SocialStyle-sc-13utdc-0 bYHjiR"><ul><li><a href="https://dev.to/waylonwalker"><img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg" alt="Waylon Walker&#x27;s DEV Profile" height="30" width="30"/></a></li><li><a href="https://github.com/waylonwalker"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li><li><a href="https://twitter.com/_waylonwalker"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></li><li><a href="https://instagram.com/_waylonwalker"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg></a></li><li><a href="https://waylonwalker.com/blog/rss.xml"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></nav></div></div><div class="blog-post__BlogPostWrapper-t5wcn1-0 dgWmqb"><div class="blog-post__BlogPostStyles-t5wcn1-1 dgFMrd"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:42%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABuElEQVQY02MQV9RX1TV9//JSfGq+T3Csq2+4uYN3R+8UUztPTSN7BXUzJXVzHV17XT17SysPSxsPKxt3K1s3KxsXUwtbBlEFPW1ju9MnD9Q0de7ac2Dx8rUbNm+/dftubXPXhYtX4+LyRKS1dfQc9PTtbW19bO287Ry8re3czSwdTcxtGSSV9OU1TDUM7a2d/QPCk5x9whKzi7JKqzSN7CbNnGfjEiAkq6Wla6etZ2do6mRq5mRq7mhkYqdnaK5vZM4gqWwgoaQvpqArIqvNK6kmJquTbBQbqR9eb1/opeVTapXZ4lSaaJ3Y4FqSa5emoG2kp2eto2+mY2yvq28G0gxBUioG4sr6KmrmO4KmXY1eWetYuMins9Am823iriKH7BTbpLux69zMfDW0tfW1ZK2tDWyszaGagZYDkbiSnqyycZ51Wp9LdZ8rCE10q13q3VXlkLfQt3N78DQLY2ctDXlJCXE9dQlzMxMGuE4IklQykFICiSiomIgp6impmgor6gDDRU3dQlXLXEvPSkPLWERYUEZeTVrFiAFZJ9x+UChASV1JsKCYoi6QlFM1VtY0lVLUEVcEyQIAxDV8cMYTvjsAAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/4c36fae820f88920f1e380da56b6ed12/2d6f8/kedro-hooks.png 250w,
/static/4c36fae820f88920f1e380da56b6ed12/03ac3/kedro-hooks.png 500w,
/static/4c36fae820f88920f1e380da56b6ed12/a8734/kedro-hooks.png 1000w" sizes="(max-width: 1000px) 100vw, 1000px" /><img loading="lazy" sizes="(max-width: 1000px) 100vw, 1000px" srcset="/static/4c36fae820f88920f1e380da56b6ed12/2d6f8/kedro-hooks.png 250w,
/static/4c36fae820f88920f1e380da56b6ed12/03ac3/kedro-hooks.png 500w,
/static/4c36fae820f88920f1e380da56b6ed12/a8734/kedro-hooks.png 1000w" src="/static/4c36fae820f88920f1e380da56b6ed12/a8734/kedro-hooks.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><h1 style="text-align:right;z-index:2" class="blog title">creating the kedro-preflight hook</h1><p style="text-align:right;z-index:2">2020-05-10T07:12:00.000Z</p><div class="tweet"><a href="https://twitter.com/intent/tweet?text=creating%20the%20kedro-preflight%20hook%0A%0A@waylonwalker%0A%0Ahttps://waylonwalker.comkedro-hooks-preflight">üôå Share this post on <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></div><hr style="margin:1rem 25%"/><div><p>kedro hooks are an exciting upcoming feature of kedro <code class="language-text">0.16.0</code>.  They allow you to hook into <code class="language-text">catalog_created</code>,<code class="language-text">pipeline_run</code>, and <code class="language-text">node_run</code>(nouns). With a <code class="language-text">before</code>, or <code class="language-text">after</code> (adjective).  This really reminds me of reacts lifecycle hooks, that let you hook into various state of react web components.  This is going to make kedro so extendable by the community.  I am super pumped to see what the community is able to do with this ability.</p>
<blockquote>
<h3>What is Kedro ü§î</h3>
<p>If you are completely unsure what kedro is be sure to check out my <a href="https://waylonwalker.com/wike">what is kedro</a> post</p>
</blockquote>
<h2>Docs</h2>
<p><em>a work in progress</em></p>
<p>As this is a part of an upcoming release you will need to look in the <code class="language-text">latest</code> docs, <strong>not</strong> <code class="language-text">stable</code> and you will find a <a href="https://kedro.readthedocs.io/en/latest/04_user_guide/15_hooks.html?highlight=hooks">15_hoooks</a> page.  As these docs are still in development they are not very complete at this point and do require a bit more existing <code class="language-text">kedro</code> knowledge to understand.  I am sure they will get much better as we approach the realease of hooks.</p>
<blockquote>
<p>This doesn't mean that we can't still install the latest/unstable version and have some fun learning!</p>
</blockquote>
<h2>Installation</h2>
<p><em>Straight from GitHub</em></p>
<p>As this is part of an upcoming release you will need to get the library straight from github.  Since this is not a stable release of <code class="language-text">kedro</code> I cannot express the importance of using a virtual environment enough.  Trying to install this version in the same place that you are trying to develop a pipeline potentially break your existing working development environment.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">conda create -n kedro0160 -y
conda activate kedro0160 <span class="token comment"># may also be source activate kedro0160 or activate kedro0160</span>
pip <span class="token function">install</span> git+https://github.com/quantumblacklabs/kedro.git
pip <span class="token function">install</span> colorama</code></pre></div>
<blockquote>
<p><strong>note</strong> the version is still somewhere between <code class="language-text">0.15.9</code> and <code class="language-text">0,16.0</code>.  <code class="language-text">kedro.__version__</code> will still be <code class="language-text">0.15.9</code> and wiill not roll until the official release.</p>
</blockquote>
<h2>Create a sample project</h2>
<blockquote>
<h3>Kedro new</h3>
<p>For more details check out my full post on <a href="https://waylonwalker.com/knew">kedro new</a></p>
</blockquote>
<p>For this post I really just want a working pipeline as fast as possible.  For this I am going to use iris pipeline that is generated from the <code class="language-text">kedro new</code> command in the cli.  It's <strong>important</strong> that you answer <code class="language-text">y</code> to create an example pipeline.</p>
<blockquote>
<h3>Hold On ‚úã</h3>
<p>Did you create a separate environment for this?  Please do.</p>
</blockquote>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kedro new</code></pre></div>
<p>After you run the <code class="language-text">kedro new</code> command it will ask a series of questions.  üëá Here is how I answered them.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">Project Name:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Please enter a human readable name <span class="token keyword">for</span> your new project.
Spaces and punctuation are allowed.
 <span class="token punctuation">[</span>New Kedro Project<span class="token punctuation">]</span>: Kedro Hooks
Repository Name:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Please enter a directory name <span class="token keyword">for</span> your new project repository.
Alphanumeric characters, hyphens and underscores are allowed.
Lowercase is recommended.
 <span class="token punctuation">[</span>kedro-hooks<span class="token punctuation">]</span>:
Python Package Name:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Please enter a valid Python package name <span class="token keyword">for</span> your project package.
Alphanumeric characters and underscores are allowed.
Lowercase is recommended. Package name must start with a letter or underscore.
 <span class="token punctuation">[</span>kedro_hooks<span class="token punctuation">]</span>:
Generate Example Pipeline:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Do you want to generate an example pipeline <span class="token keyword">in</span> your project?
Good <span class="token keyword">for</span> first-time users. <span class="token punctuation">(</span>default<span class="token operator">=</span>N<span class="token punctuation">)</span>
 <span class="token punctuation">[</span>y/N<span class="token punctuation">]</span>: y
Change directory to the project generated <span class="token keyword">in</span> /mnt/c/temp/kedro-hooks/
A best-practice setup includes initialising <span class="token function">git</span> and creating a virtual environment before running <span class="token variable"><span class="token variable">`</span>kedro <span class="token function">install</span><span class="token variable">`</span></span> to <span class="token function">install</span> project-specific dependencies. Refer to the Kedro documentation: https://kedro.readthedocs.io/</code></pre></div>
<h3>Install the Project</h3>
<p>Next install the project itself and all of its dependencies with the <code class="language-text">kedro install</code> command.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> kedro-hooks
kedro <span class="token function">install</span></code></pre></div>
<h3>üèÉ‚Äç‚ôÄÔ∏è Run the pipeline</h3>
<p>Before we start developing any hooks lets make sure everything is setup correctly by running the pipeline with <code class="language-text">kedro run</code>.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">kedro run</code></pre></div>
<h2>Let's make a hook</h2>
<p><em>getting to the meat of the post</em></p>
<p>Now that we have a project scaffolded up and running we can develop a hook for it.  As far as I can tell hooks can be implemented one of <strong>two ways</strong>.  As a <strong>function</strong> inside of a module, then import that module and pass it into the hooks list, or implemented as a method on a <strong>class</strong>, then the class is passed into the hooks list.  Either method must follow the naming convention with the <code class="language-text">@hook_impl</code> decorator.  Each module/class can implement more than one hook, but not more than one of the same type. One of each kind will be created below.</p>
<h3>Full list of hooks available</h3>
<blockquote>
<p><code class="language-text">before_catalog_created</code></p>
<p><code class="language-text">after_catalog_created</code></p>
<p><code class="language-text">before_pipeline_run</code></p>
<p><code class="language-text">after_pipeline_run</code></p>
<p><code class="language-text">before_node_run</code></p>
<p><code class="language-text">after_node_run</code></p>
</blockquote>
<h2>debug_hook (class)</h2>
<p><em>quick and dirty</em></p>
<p>I highly recommend this as your first hook.  It's super easy to make and lets you explore the arguments passed into the hook.  For this one I am going to pop the following class right into <code class="language-text">kedro-hooks/src/kedro-hooks/run.py</code>, remember that I chose <code class="language-text">kedro-hooks</code> as my project name.  Your path might be slightly different.  If you wanted to make a real hook it might make sense to put it in its own module, but for simplicity of your first hook you can put it directly in the same module that it gets implemented.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">debug_hook</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@hook_impl</span>
    <span class="token keyword">def</span> <span class="token function">before_pipeline_run</span><span class="token punctuation">(</span>run_params<span class="token punctuation">,</span> pipeline<span class="token punctuation">,</span> catalog<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token string">"pops into a debugger before pipeline run"</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'I hooked in right before the pipeline run'</span><span class="token punctuation">)</span>
        breakpoint<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>It is really that easy to create a kedro hook!  Now lets apply it to our project.  All we need to do is add one line (<code class="language-text">hooks = [debug_hook]</code>) to the existing <code class="language-text">ProjectContext</code> class within <code class="language-text">kedro-hooks/src/kedro-hooks/run.py</code>.  Once we do that our <code class="language-text">ProjectContext</code> will look like this.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ProjectContext</span><span class="token punctuation">(</span>KedroContext<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Users can override the remaining methods from the parent class here,
    or create new ones (e.g. as required by plugins)
    """</span>

    project_name <span class="token operator">=</span> <span class="token string">"kedro-hooks"</span>
    <span class="token comment"># `project_version` is the version of kedro used to generate the project</span>
    project_version <span class="token operator">=</span> <span class="token string">"0.15.9"</span>
    package_name <span class="token operator">=</span> <span class="token string">"kedro-hooks"</span>

    hooks <span class="token operator">=</span> <span class="token punctuation">[</span> debug_hook <span class="token punctuation">]</span> <span class="token comment"># üëà This is where you implement the hook</span>

    <span class="token keyword">def</span> <span class="token function">_get_pipelines</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Dict<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">,</span> Pipeline<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> create_pipelines<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Run it!  While you are in the debugger, explore what the <code class="language-text">run_params</code>, <code class="language-text">pipeine</code>, and <code class="language-text">catalog</code> arguments give you.  This will give you some insight to what to expect when creating your next hook.</p>
<h2>preflight hook (module)</h2>
<p><em>giving it a bit more flair</em></p>
<p>Create a new file <code class="language-text">kedro-hooks/src/kedro-hooks/preflight.py</code> and place the following content into the file.  This will raise a <code class="language-text">DataSetNotFoundError</code> before wasting time running any of the pipeline.  This could be useful to save some developer time for long running pipelines by warning them that they don't have all of the raw data they need before running.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment"># kedro-hooks/src/kedro-hooks/preflight.py</span>
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>hooks <span class="token keyword">import</span> hook_impl
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>io<span class="token punctuation">.</span>core <span class="token keyword">import</span> DataSetNotFoundError
<span class="token keyword">from</span> colorama <span class="token keyword">import</span> Fore
<span class="token keyword">import</span> textwrap


<span class="token decorator annotation punctuation">@hook_impl</span>
<span class="token keyword">def</span> <span class="token function">before_pipeline_run</span><span class="token punctuation">(</span>run_params<span class="token punctuation">,</span> pipeline<span class="token punctuation">,</span> catalog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    missing_input <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> pipeline<span class="token punctuation">.</span>inputs<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>catalog<span class="token punctuation">.</span>datasets<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">.</span>_exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>missing_input<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> DataSetNotFoundError<span class="token punctuation">(</span>textwrap<span class="token punctuation">.</span>dedent<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'''

    </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>LIGHTBLACK_EX<span class="token punctuation">}</span></span><span class="token string">‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï  </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>RED<span class="token punctuation">}</span></span><span class="token string">PREFLIGHT ERROR </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>LIGHTBLACK_EX<span class="token punctuation">}</span></span><span class="token string">‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï‚Äï
    </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>RESET<span class="token punctuation">}</span></span><span class="token string"> preflight of pipeline failed due to </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>YELLOW<span class="token punctuation">}</span></span><span class="token string">missing datasets
    </span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>BLUE<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>missing_input<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>Fore<span class="token punctuation">.</span>RESET<span class="token punctuation">}</span></span><span class="token string">
    '''</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>Once we are happy with this hook, it can live anywhere.  It can be a module inside our project.  It can be a separate libarary that gets handed out as a back ally wheel, or we can even publish it as its own package to pypi so that anyone can easily pip install it.</p>
<h3>One Step Back</h3>
<p><em>a bit of explanation of preflight</em></p>
<p>If you are not familiar, <code class="language-text">pipeline.inputs()</code> gives us all of the edge inputs into the pipeline.  kedro does also have a <code class="language-text">pipeline.all_inputs()</code> that tells us all of the edge and internal pipeline inputs that will be called throughout the pipeline run.  For this hook we are just concerned with the edge inputs as internal inputs will be generated during the run.</p>
<p>Also each one of the kedro datasets have an <code class="language-text">_exists()</code> method attached to them to check if the dataset exists or not.  For a more robust implementation of <code class="language-text">preflight</code> it would probably be best to ignore <code class="language-text">AttributeError</code>s, i.e the dataset type does not have an implementation of <code class="language-text">_exists</code>.  It would probably also be a good idea to filter for types such as <code class="language-text">SQLQueryDataSet</code>s that assume <code class="language-text">_exists</code> is False by default.</p>
<h2>Ideas</h2>
<p>Now that the juices are flowing what ideas do you have for <code class="language-text">kedro</code> hooks?</p></div><hr style="margin:3rem 25% 0"/><br/><p style="display:flex;justify:center;text-align:center;margin:3rem auto"><span role="img" aria-label="">üëÄ</span> see an issue, edit this post on <a href="https://github.com/WaylonWalker/waylonwalkerv2/edit/main/src/pages/blog/creating-the-kedro-preflight-hook.md" alt="edit post url" title="edit this post"> <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> GitHub</a></p><p style="display:flex;justify:center;margin:auto;text-align:center;margin-bottom:.5rem">If you found value in this post <br/>and want to send a tip.</p><p style="display:flex;justify:center"><a href="https://www.buymeacoffee.com/bBdtMQO" target="_blank" style="display:inline-block;margin:auto"><img src="https://cdn.buymeacoffee.com/buttons/lato-violet.png" alt="Buy Me A Coffee" style="height:51px;width:217px;margin:auto"/></a></p><div class="tweet" style="justify-content:center;flex-direction:column;align-items:center;max-width:300px;margin:1rem auto;text-align:center"><p>If you want to show your support, non-monetarily</p><a href="https://twitter.com/intent/tweet?text=creating%20the%20kedro-preflight%20hook%0A%0A@waylonwalker%0A%0Ahttps://waylonwalker.comkedro-hooks-preflight">üôå Share this post on <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></div></div><p>Check out my other<a style="margin:.2rem" href="/blog">blogs</a></p></div><div class="Subscribe__SubscribeStyle-f859a3-0 fZxQeY"><h3>Join my NewsLetter</h3><p>I write short articles about developing a <strong>successful mindset</strong> for the tech industry once or so per week.</p><p></p><a href="waylonwalker.com/news" title="Subscribe to my Newsletter">Subscribe</a><p>Someday I hope to announce courses/side projects there as well.</p><p>Unsubscribe at any time</p></div><p style="margin:0">.</p></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  window.excludeGAPaths=[/^(?:\/admin\/(?:(?!(?:\/|^)\.).)*?)$/];
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-113148616-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/creating-the-kedro-preflight-hook/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e683bae23b87841ae0a7.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-b33dfc07af0e7733185a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8251395dcfdd0bf566de.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-6ad0e2405a359a692b58.js"],"component---src-pages-blog-realistic-git-workflow-clean-js":["/component---src-pages-blog-realistic-git-workflow-clean-js-74ebe6f5cd2644f3385c.js"],"component---src-pages-gratitude-js":["/component---src-pages-gratitude-js-a52693e4e079d82f3c2d.js"],"component---src-pages-hot-tips-js":["/component---src-pages-hot-tips-js-8ee22563830d1bbcec2c.js"],"component---src-pages-index-js":["/component---src-pages-index-js-adcf1ff222523e9e62ff.js"],"component---src-pages-newsletter-signup-js":["/component---src-pages-newsletter-signup-js-06a27613592133ccfa0d.js"],"component---src-pages-notes-js":["/component---src-pages-notes-js-1d0a8832009c056e0328.js"],"component---src-pages-test-js":["/component---src-pages-test-js-2cad91b6c990863be9c7.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-cd107e7acaccbb1379bd.js"],"component---src-templates-hot-tip-js":["/component---src-templates-hot-tip-js-8a0dfdf40a71cf5f408d.js"],"component---src-templates-notes-js":["/component---src-templates-notes-js-2d2d8c30dcdf5170e1ec.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-cd107e7acaccbb1379bd.js" async=""></script><script src="/f8769c95dac0e5b26b0bc8fbc2bb848632ebeca5-b8f4107fb6118817e114.js" async=""></script><script src="/5e2a4920-0c5238b9439cc4cd8edf.js" async=""></script><script src="/styles-9b6f388623a2ec93d35f.js" async=""></script><script src="/app-e683bae23b87841ae0a7.js" async=""></script><script src="/framework-33645abd229bbd2597c4.js" async=""></script><script src="/webpack-runtime-8f308a0ac5b4769aadcb.js" async=""></script></body></html>