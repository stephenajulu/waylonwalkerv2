{"version":3,"sources":["webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@gitgraph/core/lib/index.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/gitgraph-user-api.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@gitgraph/core/lib/refs.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@gitgraph/core/lib/branches-paths.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/index.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@gitgraph/core/lib/orientation.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.object.define-property.js","webpack:///./node_modules/@gitgraph/core/lib/tag.js","webpack:///./node_modules/@gitgraph/core/lib/branches-order.js","webpack:///./node_modules/@gitgraph/core/lib/template.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/regular.js","webpack:///./node_modules/@gitgraph/core/lib/commit.js","webpack:///./node_modules/@gitgraph/core/lib/mode.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/branch-user-api.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@gitgraph/core/lib/utils.js","webpack:///./node_modules/@gitgraph/core/lib/branch.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/compact.js","webpack:///./node_modules/@gitgraph/react/lib/BranchLabel.js","webpack:///./node_modules/@gitgraph/react/lib/Tooltip.js","webpack:///./node_modules/@gitgraph/react/lib/Dot.js","webpack:///./node_modules/@gitgraph/react/lib/Tag.js","webpack:///./node_modules/@gitgraph/react/lib/Gitgraph.js","webpack:///./src/pages/blog/realistic-git-workflow/clean.js","webpack:///./node_modules/@gitgraph/core/lib/gitgraph.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty.js"],"names":["arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","module","exports","arr","iter","Symbol","iterator","Object","Array","from","arrayLikeToArray","isArray","defineProperty","value","gitgraph_1","GitgraphCore","mode_1","Mode","gitgraph_user_api_1","GitgraphUserApi","branch_user_api_1","BranchUserApi","branch_1","Branch","commit_1","Commit","tag_1","Tag","refs_1","Refs","template_1","MergeStyle","TemplateName","templateExtend","orientation_1","Orientation","branches_paths_1","toSvgPath","utils_1","arrowSvgPath","i","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","_slicedToArray","_classCallCheck","_createClass","graph","onGraphUpdate","this","_graph","_onGraphUpdate","key","refs","tags","commits","branches","Map","currentBranch","createBranch","options","getUserApi","commit","args","name","ref","style","render","commitHash","_len","arguments","_key","head","getCommit","hasCommit","hasName","Error","concat","set","tagStyles","tagRenders","data","_this","invalidData","every","author","commitOptionsList","map","assign","template","message","display","shouldDisplayCommitMessage","email","reverse","clear","forEach","_ref","hash","split","_ref2","_ref3","filter","tag","startsWith","_getBranches","_withBranches","reduce","mem","branch","add","Set","commitBranches","get","values","DELETED_BRANCH_NAME","setBranches","_this2","result","queue","getAllNames","_loop","currentHash","pop","current","find","_ref4","prevBranches","parents","o","minLen","n","prototype","toString","call","slice","constructor","test","_toConsumableArray","commitPerName","namesPerCommit","prevCommitHash","removeNameFrom","addNameTo","addCommitTo","keys","has","nameToRemove","names","nameToAdd","prevNames","commitHashToAdd","len","arr2","self","ReferenceError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","BranchesPathsCalculator","commitSpacing","isGraphVertical","isGraphReverse","createDeletedBranch","branchesPaths","fromCommits","withMergeCommits","smoothBranchesPaths","branchToDisplay","getDeletedBranchInPath","path","existingBranchPath","firstParentCommit","apply","x","y","mergeCommit","parentOnOriginBranch","originBranchName","lastPoints","isDeleted","_this3","points","sort","a","b","paths","point","pick","j","previousPoint","subPath","firstPoint","lastPoint","column","branchSize","Math","round","abs","branchPoints","fill","_","lastSubPaths","coordinates","isBezier","isVertical","previous","middleY","middleX","join","compact_1","regular_1","GraphRows","RegularGraphRows","createGraphRows","mode","Compact","CompactGraphRows","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_typeof","assertThisInitialized","_setPrototypeOf","p","setPrototypeOf","__proto__","obj","subClass","superClass","TypeError","create","$export","S","F","f","commitStyle","tagStyle","strokeColor","color","bgColor","font","DEFAULT_FONT","borderRadius","numberOptionOr","pointerWidth","BranchesOrder","colors","compareFunction","branchName","findIndex","_defineProperty","Template","label","arrow","dot","lineWidth","mergeStyle","Bezier","spacing","booleanOptionOr","size","offset","hasTooltipInCompactMode","strokeWidth","displayAuthor","displayHash","blackArrowTemplate","Straight","metroTemplate","getTemplate","_TemplateName$BlackAr","BlackArrow","Metro","selectedTemplate","rows","maxRowCache","computeRowsFromCommits","array","_options$author$match","match","_options$author$match2","e","timestamp","Date","now","committer","subject","body","random","substring","hashAbbrev","parentsAbbrev","dotText","onClick","onMessageClick","onMouseOver","onMouseOut","renderDot","renderMessage","renderTooltip","getNames","getTagStyle","getTagRender","newStyle","cloneCommit","toObject","toAbsoluteIndex","toLength","O","aLen","index","end","endPos","__rest","s","t","hasOwnProperty","indexOf","getOwnPropertySymbols","_branch","_commitWithParents","isBranchMergeOptions","fastForward","commitOptions","_options","branchLastCommitHash","canFastForward","lastCommitHash","_areCommitsConnected","_fastForwardTo","parentOnSameBranch","unshift","parentCommitHash","generateCommitHash","commitDefaultOptions","commitMessage","_getCommitStyle","checkout","childCommitHash","childCommit","includes","some","directParentHash","withoutUndefinedKeys","isUndefined","defaultValue","debug","console","log","JSON","stringify","parent","commitRadius","h","delta","PI","alpha","alphaY","alphaX","deltaX","deltaY","orientation","Horizontal","HorizontalReverse","VerticalReverse","reverseArrow","atan2","getAlpha","x1","cos","y1","sin","x2","y2","x3","y3","x4","y4","gitgraph","renderLabel","_getPrototypeOf","getPrototypeOf","_inherits","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","_regular_1$RegularGra","_super","newRow","parentRow","getRowOf","historyParent","max","_extendStatics","__extends","d","__","BranchLabel","state","textWidth","textHeight","$text","componentDidMount","box","getBBox","setState","width","height","_a","boxWidth","paddingX","boxHeight","paddingY","stroke","rx","alignmentBaseline","dominantBaseline","Tooltip","commitSize","padding","transform","children","id","cx","cy","r","xlinkHref","clipPath","textAnchor","radius","isPropsWithGraph","Gitgraph","$graph","$commits","$tooltip","commitsElements","commitMessagesX","commitYWithOffsets","shouldRecomputeOffsets","currentCommitOver","subscribe","renderBranchesPaths","renderCommits","componentDidUpdate","setAttribute","positionCommitsElements","computeOffsets","getWithCommitOffset","computedColor","renderCommit","isHorizontal","renderArrows","renderBranchLabels","renderTags","parentHash","origin","createMessageRef","branchLabelOnEveryCommit","createBranchLabelRef","branchLabel","createTagRef","initCommitElements","moveElement","branchLabelWidth","tagWidth","totalOffsetY","newOffsets","commitY","parseInt","getAttribute","firstForeignObject","getElementsByTagName","customHtmlMessage","firstElementChild","messageHeight","getBoundingClientRect","marginTopInPx","window","getComputedStyle","marginTop","replace","defaultProps","Clean","main","feature","merge","graph_rows_1","branches_order_1","listeners","nextTimeoutId","initCommitOffsetX","initCommitOffsetY","branchesOrderFunction","compareBranchesOrder","listener","isSubscribed","splice","computeRenderedCommits","computeRenderedBranchesPaths","computeCommitMessagesX","computeBranchesColor","parentBranchName","_this4","getBranches","commitsWithBranches","withBranches","branchesOrder","setRefs","withPosition","withDefaultColor","getBranchDefaultColor","setTags","_this5","isReverse","execute","_this6","_this7","row","maxRow","getMaxRow","order","setPosition","getColorOf","_this8","clearTimeout","setTimeout","getRenderedData","P","aFunction","anObject","isObject","fails","bind","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","proto","instance","Function","$find","KEY","forced","callbackfn"],"mappings":"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","file":"component---src-pages-blog-realistic-git-workflow-clean-js-74ebe6f5cd2644f3385c.js","sourcesContent":["var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gitgraph_1 = require(\"./gitgraph\");\n\nexports.GitgraphCore = gitgraph_1.GitgraphCore;\n\nvar mode_1 = require(\"./mode\");\n\nexports.Mode = mode_1.Mode;\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nexports.GitgraphUserApi = gitgraph_user_api_1.GitgraphUserApi;\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nexports.BranchUserApi = branch_user_api_1.BranchUserApi;\n\nvar branch_1 = require(\"./branch\");\n\nexports.Branch = branch_1.Branch;\n\nvar commit_1 = require(\"./commit\");\n\nexports.Commit = commit_1.Commit;\n\nvar tag_1 = require(\"./tag\");\n\nexports.Tag = tag_1.Tag;\n\nvar refs_1 = require(\"./refs\");\n\nexports.Refs = refs_1.Refs;\n\nvar template_1 = require(\"./template\");\n\nexports.MergeStyle = template_1.MergeStyle;\nexports.TemplateName = template_1.TemplateName;\nexports.templateExtend = template_1.templateExtend;\n\nvar orientation_1 = require(\"./orientation\");\n\nexports.Orientation = orientation_1.Orientation;\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nexports.toSvgPath = branches_paths_1.toSvgPath;\n\nvar utils_1 = require(\"./utils\");\n\nexports.arrowSvgPath = utils_1.arrowSvgPath;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.string.starts-with\");\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar branch_1 = require(\"../branch\");\n\nvar refs_1 = require(\"../refs\");\n\nvar GitgraphUserApi = /*#__PURE__*/function () {\n  // tslint:enable:variable-name\n  function GitgraphUserApi(graph, onGraphUpdate) {\n    _classCallCheck(this, GitgraphUserApi);\n\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n  /**\n   * Clear everything (as `rm -rf .git && git init`).\n   */\n\n\n  _createClass(GitgraphUserApi, [{\n    key: \"clear\",\n    value: function clear() {\n      this._graph.refs = new refs_1.Refs();\n      this._graph.tags = new refs_1.Refs();\n      this._graph.commits = [];\n      this._graph.branches = new Map();\n      this._graph.currentBranch = this._graph.createBranch(\"master\");\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      this._graph.currentBranch.getUserApi().commit(options);\n\n      return this;\n    }\n  }, {\n    key: \"branch\",\n    value: function branch(args) {\n      return this._graph.createBranch(args).getUserApi();\n    }\n  }, {\n    key: \"tag\",\n    value: function tag() {\n      // Deal with shorter syntax\n      var name;\n      var ref;\n      var style;\n      var render;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (typeof args[0] === \"string\") {\n        name = args[0];\n        ref = args[1];\n      } else {\n        name = args[0].name;\n        ref = args[0].ref;\n        style = args[0].style;\n        render = args[0].render;\n      }\n\n      if (!ref) {\n        var head = this._graph.refs.getCommit(\"HEAD\");\n\n        if (!head) return this;\n        ref = head;\n      }\n\n      var commitHash;\n\n      if (this._graph.refs.hasCommit(ref)) {\n        // `ref` is a `Commit[\"hash\"]`\n        commitHash = ref;\n      }\n\n      if (this._graph.refs.hasName(ref)) {\n        // `ref` is a `Branch[\"name\"]`\n        commitHash = this._graph.refs.getCommit(ref);\n      }\n\n      if (!commitHash) {\n        throw new Error(\"The ref \\\"\".concat(ref, \"\\\" does not exist\"));\n      }\n\n      this._graph.tags.set(name, commitHash);\n\n      this._graph.tagStyles[name] = style;\n      this._graph.tagRenders[name] = render;\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n    /**\n     * Import a JSON.\n     *\n     * Data can't be typed since it comes from a JSON.\n     * We validate input format and throw early if something is invalid.\n     *\n     * @experimental\n     * @param data JSON from `git2json` output\n     */\n\n  }, {\n    key: \"import\",\n    value: function _import(data) {\n      var _this = this;\n\n      var invalidData = new Error(\"Only `git2json` format is supported for imported data.\"); // We manually validate input data instead of using a lib like yup.\n      // => this is to keep bundlesize small.\n\n      if (!Array.isArray(data)) {\n        throw invalidData;\n      }\n\n      var areDataValid = data.every(function (options) {\n        return typeof options === \"object\" && typeof options.author === \"object\" && Array.isArray(options.refs);\n      });\n\n      if (!areDataValid) {\n        throw invalidData;\n      }\n\n      var commitOptionsList = data.map(function (options) {\n        return Object.assign({}, options, {\n          style: Object.assign({}, _this._graph.template.commit, {\n            message: Object.assign({}, _this._graph.template.commit.message, {\n              display: _this._graph.shouldDisplayCommitMessage\n            })\n          }),\n          author: \"\".concat(options.author.name, \" <\").concat(options.author.email, \">\")\n        });\n      }) // Git2json outputs is reverse-chronological.\n      // We need to commit it chronological order.\n      .reverse(); // Use validated `value`.\n\n      this.clear();\n      this._graph.commits = commitOptionsList.map(function (options) {\n        return new commit_1.Commit(options);\n      }); // Create tags & refs.\n\n      commitOptionsList.forEach(function (_ref) {\n        var refs = _ref.refs,\n            hash = _ref.hash;\n        if (!refs) return;\n        if (!hash) return;\n        var TAG_PREFIX = \"tag: \";\n        var tags = refs.map(function (ref) {\n          return ref.split(TAG_PREFIX);\n        }).map(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              _ = _ref3[0],\n              tag = _ref3[1];\n\n          return tag;\n        }).filter(function (tag) {\n          return typeof tag === \"string\";\n        });\n        tags.forEach(function (tag) {\n          return _this._graph.tags.set(tag, hash);\n        });\n        refs.filter(function (ref) {\n          return !ref.startsWith(TAG_PREFIX);\n        }).forEach(function (ref) {\n          return _this._graph.refs.set(ref, hash);\n        });\n      }); // Create branches.\n\n      var branches = this._getBranches();\n\n      this._graph.commits.map(function (commit) {\n        return _this._withBranches(branches, commit);\n      }).reduce(function (mem, commit) {\n        if (!commit.branches) return mem;\n        commit.branches.forEach(function (branch) {\n          return mem.add(branch);\n        });\n        return mem;\n      }, new Set()).forEach(function (branch) {\n        return _this.branch(branch);\n      });\n\n      this._onGraphUpdate();\n\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n    // TODO: get rid of these duplicated private methods.\n    //\n    // These belong to Gitgraph. It is duplicated because of `import()`.\n    // `import()` should use regular user API instead.\n\n  }, {\n    key: \"_withBranches\",\n    value: function _withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n  }, {\n    key: \"_getBranches\",\n    value: function _getBranches() {\n      var _this2 = this;\n\n      var result = new Map();\n      var queue = [];\n\n      var branches = this._graph.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n\n      branches.forEach(function (branch) {\n        var commitHash = _this2._graph.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this2._graph.commits.find(function (_ref4) {\n            var hash = _ref4.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n  }]);\n\n  return GitgraphUserApi;\n}();\n\nexports.GitgraphUserApi = GitgraphUserApi;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","\"use strict\";\n\nvar _toConsumableArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Refs = /*#__PURE__*/function () {\n  function Refs() {\n    _classCallCheck(this, Refs);\n\n    this.commitPerName = new Map();\n    this.namesPerCommit = new Map();\n  }\n  /**\n   * Set a new reference to a commit hash.\n   *\n   * @param name Name of the ref (ex: \"master\", \"v1.0\")\n   * @param commitHash Commit hash\n   */\n\n\n  _createClass(Refs, [{\n    key: \"set\",\n    value: function set(name, commitHash) {\n      var prevCommitHash = this.commitPerName.get(name);\n\n      if (prevCommitHash) {\n        this.removeNameFrom(prevCommitHash, name);\n      }\n\n      this.addNameTo(commitHash, name);\n      this.addCommitTo(name, commitHash);\n      return this;\n    }\n    /**\n     * Get the commit hash associated with the given reference name.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"getCommit\",\n    value: function getCommit(name) {\n      return this.commitPerName.get(name);\n    }\n    /**\n     * Get the list of reference names associated with given commit hash.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"getNames\",\n    value: function getNames(commitHash) {\n      return this.namesPerCommit.get(commitHash) || [];\n    }\n    /**\n     * Get all reference names known.\n     */\n\n  }, {\n    key: \"getAllNames\",\n    value: function getAllNames() {\n      return Array.from(this.commitPerName.keys());\n    }\n    /**\n     * Returns true if given commit hash is referenced.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"hasCommit\",\n    value: function hasCommit(commitHash) {\n      return this.namesPerCommit.has(commitHash);\n    }\n    /**\n     * Returns true if given reference name exists.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"hasName\",\n    value: function hasName(name) {\n      return this.commitPerName.has(name);\n    }\n  }, {\n    key: \"removeNameFrom\",\n    value: function removeNameFrom(commitHash, nameToRemove) {\n      var names = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, names.filter(function (name) {\n        return name !== nameToRemove;\n      }));\n    }\n  }, {\n    key: \"addNameTo\",\n    value: function addNameTo(commitHash, nameToAdd) {\n      var prevNames = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, [].concat(_toConsumableArray(prevNames), [nameToAdd]));\n    }\n  }, {\n    key: \"addCommitTo\",\n    value: function addCommitTo(name, commitHashToAdd) {\n      this.commitPerName.set(name, commitHashToAdd);\n    }\n  }]);\n\n  return Refs;\n}();\n\nexports.Refs = Refs;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nvar _toConsumableArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Calculate branches paths of the graph.\n *\n * It follows the Command pattern:\n * => a class with a single `execute()` public method.\n *\n * Main benefit is we can split computation in smaller steps without\n * passing around parameters (we can rely on private data).\n */\n\n\nvar BranchesPathsCalculator = /*#__PURE__*/function () {\n  function BranchesPathsCalculator(commits, branches, commitSpacing, isGraphVertical, isGraphReverse, createDeletedBranch) {\n    _classCallCheck(this, BranchesPathsCalculator);\n\n    this.branchesPaths = new Map();\n    this.commits = commits;\n    this.branches = branches;\n    this.commitSpacing = commitSpacing;\n    this.isGraphVertical = isGraphVertical;\n    this.isGraphReverse = isGraphReverse;\n    this.createDeletedBranch = createDeletedBranch;\n  }\n  /**\n   * Compute branches paths for graph.\n   */\n\n\n  _createClass(BranchesPathsCalculator, [{\n    key: \"execute\",\n    value: function execute() {\n      this.fromCommits();\n      this.withMergeCommits();\n      return this.smoothBranchesPaths();\n    }\n    /**\n     * Initialize branches paths from calculator's commits.\n     */\n\n  }, {\n    key: \"fromCommits\",\n    value: function fromCommits() {\n      var _this = this;\n\n      this.commits.forEach(function (commit) {\n        var branch = _this.branches.get(commit.branchToDisplay);\n\n        if (!branch) {\n          // NB: may not work properly if there are many deleted branches.\n          branch = _this.getDeletedBranchInPath() || _this.createDeletedBranch();\n        }\n\n        var path = [];\n\n        var existingBranchPath = _this.branchesPaths.get(branch);\n\n        var firstParentCommit = _this.commits.find(function (_ref) {\n          var hash = _ref.hash;\n          return hash === commit.parents[0];\n        });\n\n        if (existingBranchPath) {\n          path.push.apply(path, _toConsumableArray(existingBranchPath));\n        } else if (firstParentCommit) {\n          // Make branch path starts from parent branch (parent commit).\n          path.push({\n            x: firstParentCommit.x,\n            y: firstParentCommit.y\n          });\n        }\n\n        path.push({\n          x: commit.x,\n          y: commit.y\n        });\n\n        _this.branchesPaths.set(branch, path);\n      });\n    }\n    /**\n     * Insert merge commits points into `branchesPaths`.\n     *\n     * @example\n     *     // Before\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 }\n     *     ]\n     *\n     *     // After\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 },\n     *       { x: 50, y: 560, mergeCommit: true }\n     *     ]\n     */\n\n  }, {\n    key: \"withMergeCommits\",\n    value: function withMergeCommits() {\n      var _this2 = this;\n\n      var mergeCommits = this.commits.filter(function (_ref2) {\n        var parents = _ref2.parents;\n        return parents.length > 1;\n      });\n      mergeCommits.forEach(function (mergeCommit) {\n        var parentOnOriginBranch = _this2.commits.find(function (_ref3) {\n          var hash = _ref3.hash;\n          return hash === mergeCommit.parents[1];\n        });\n\n        if (!parentOnOriginBranch) return;\n        var originBranchName = parentOnOriginBranch.branches ? parentOnOriginBranch.branches[0] : \"\";\n\n        var branch = _this2.branches.get(originBranchName);\n\n        if (!branch) {\n          branch = _this2.getDeletedBranchInPath();\n\n          if (!branch) {\n            // Still no branch? That's strange, we shouldn't set anything.\n            return;\n          }\n        }\n\n        var lastPoints = _toConsumableArray(_this2.branchesPaths.get(branch) || []);\n\n        _this2.branchesPaths.set(branch, [].concat(_toConsumableArray(lastPoints), [{\n          x: mergeCommit.x,\n          y: mergeCommit.y,\n          mergeCommit: true\n        }]));\n      });\n    }\n    /**\n     * Retrieve deleted branch from calculator's branches paths.\n     */\n\n  }, {\n    key: \"getDeletedBranchInPath\",\n    value: function getDeletedBranchInPath() {\n      return Array.from(this.branchesPaths.keys()).find(function (branch) {\n        return branch.isDeleted();\n      });\n    }\n    /**\n     * Smooth all paths by putting points on each row.\n     */\n\n  }, {\n    key: \"smoothBranchesPaths\",\n    value: function smoothBranchesPaths() {\n      var _this3 = this;\n\n      var branchesPaths = new Map();\n      this.branchesPaths.forEach(function (points, branch) {\n        if (points.length <= 1) {\n          branchesPaths.set(branch, [points]);\n          return;\n        } // Cut path on each merge commits\n        // Coordinate[] -> Coordinate[][]\n\n\n        if (_this3.isGraphVertical) {\n          points = points.sort(function (a, b) {\n            return a.y > b.y ? -1 : 1;\n          });\n        } else {\n          points = points.sort(function (a, b) {\n            return a.x > b.x ? 1 : -1;\n          });\n        }\n\n        if (_this3.isGraphReverse) {\n          points = points.reverse();\n        }\n\n        var paths = points.reduce(function (mem, point, i) {\n          if (point.mergeCommit) {\n            mem[mem.length - 1].push(utils_1.pick(point, [\"x\", \"y\"]));\n            var j = i - 1;\n            var previousPoint = points[j]; // Find the last point which is not a merge\n\n            while (j >= 0 && previousPoint.mergeCommit) {\n              j--;\n              previousPoint = points[j];\n            } // Start a new array with this point\n\n\n            if (j >= 0) {\n              mem.push([previousPoint]);\n            }\n          } else {\n            mem[mem.length - 1].push(point);\n          }\n\n          return mem;\n        }, [[]]);\n\n        if (_this3.isGraphReverse) {\n          paths.forEach(function (path) {\n            return path.reverse();\n          });\n        } // Add intermediate points on each sub paths\n\n\n        if (_this3.isGraphVertical) {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].x;\n            var branchSize = Math.round(Math.abs(firstPoint.y - lastPoint.y) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                x: column,\n                y: subPath[0].y - _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        } else {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].y;\n            var branchSize = Math.round(Math.abs(firstPoint.x - lastPoint.x) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                y: column,\n                x: subPath[0].x + _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        }\n      });\n      return branchesPaths;\n    }\n  }]);\n\n  return BranchesPathsCalculator;\n}();\n\nexports.BranchesPathsCalculator = BranchesPathsCalculator;\n/**\n * Return a string ready to use in `svg.path.d` from coordinates\n *\n * @param coordinates Collection of coordinates\n */\n\nfunction toSvgPath(coordinates, isBezier, isVertical) {\n  return coordinates.map(function (path) {\n    return \"M\" + path.map(function (_ref4, i, points) {\n      var x = _ref4.x,\n          y = _ref4.y;\n\n      if (isBezier && points.length > 1 && (i === 1 || i === points.length - 1)) {\n        var previous = points[i - 1];\n\n        if (isVertical) {\n          var middleY = (previous.y + y) / 2;\n          return \"C \".concat(previous.x, \" \").concat(middleY, \" \").concat(x, \" \").concat(middleY, \" \").concat(x, \" \").concat(y);\n        } else {\n          var middleX = (previous.x + x) / 2;\n          return \"C \".concat(middleX, \" \").concat(previous.y, \" \").concat(middleX, \" \").concat(y, \" \").concat(x, \" \").concat(y);\n        }\n      }\n\n      return \"L \".concat(x, \" \").concat(y);\n    }).join(\" \").slice(1);\n  }).join(\" \");\n}\n\nexports.toSvgPath = toSvgPath;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mode_1 = require(\"../mode\");\n\nvar compact_1 = require(\"./compact\");\n\nvar regular_1 = require(\"./regular\");\n\nexports.GraphRows = regular_1.RegularGraphRows;\n\nfunction createGraphRows(mode, commits) {\n  return mode === mode_1.Mode.Compact ? new compact_1.CompactGraphRows(commits) : new regular_1.RegularGraphRows(commits);\n}\n\nexports.createGraphRows = createGraphRows;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\"; // Extracted from `gitgraph.ts` because it caused `utils` tests to fail\n// because of circular dependency between `utils` and `template`.\n// It's not clear why (the circular dependency still exist) but `Orientation`\n// was the only one causing issue. Maybe because it's an enum?\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Orientation;\n\n(function (Orientation) {\n  Orientation[\"VerticalReverse\"] = \"vertical-reverse\";\n  Orientation[\"Horizontal\"] = \"horizontal\";\n  Orientation[\"HorizontalReverse\"] = \"horizontal-reverse\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar template_1 = require(\"./template\");\n\nvar utils_1 = require(\"./utils\");\n\nvar Tag = /*#__PURE__*/function () {\n  function Tag(name, style, render, commitStyle) {\n    _classCallCheck(this, Tag);\n\n    this.name = name;\n    this.tagStyle = style;\n    this.commitStyle = commitStyle;\n    this.render = render;\n  }\n  /**\n   * Style\n   */\n\n\n  _createClass(Tag, [{\n    key: \"style\",\n    get: function get() {\n      return {\n        strokeColor: this.tagStyle.strokeColor || this.commitStyle.color,\n        bgColor: this.tagStyle.bgColor || this.commitStyle.color,\n        color: this.tagStyle.color || \"white\",\n        font: this.tagStyle.font || this.commitStyle.message.font || template_1.DEFAULT_FONT,\n        borderRadius: utils_1.numberOptionOr(this.tagStyle.borderRadius, 10),\n        pointerWidth: utils_1.numberOptionOr(this.tagStyle.pointerWidth, 12)\n      };\n    }\n  }]);\n\n  return Tag;\n}();\n\nexports.Tag = Tag;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BranchesOrder = /*#__PURE__*/function () {\n  function BranchesOrder(commits, colors, compareFunction) {\n    var _this = this;\n\n    _classCallCheck(this, BranchesOrder);\n\n    this.branches = new Set();\n    this.colors = colors;\n    commits.forEach(function (commit) {\n      return _this.branches.add(commit.branchToDisplay);\n    });\n\n    if (compareFunction) {\n      this.branches = new Set(Array.from(this.branches).sort(compareFunction));\n    }\n  }\n  /**\n   * Return the order of the given branch name.\n   *\n   * @param branchName Name of the branch\n   */\n\n\n  _createClass(BranchesOrder, [{\n    key: \"get\",\n    value: function get(branchName) {\n      return Array.from(this.branches).findIndex(function (branch) {\n        return branch === branchName;\n      });\n    }\n    /**\n     * Return the color of the given branch.\n     *\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getColorOf\",\n    value: function getColorOf(branchName) {\n      return this.colors[this.get(branchName) % this.colors.length];\n    }\n  }]);\n\n  return BranchesOrder;\n}();\n\nexports.BranchesOrder = BranchesOrder;","\"use strict\";\n\nvar _defineProperty = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Branch merge style enum\n */\n\n\nvar MergeStyle;\n\n(function (MergeStyle) {\n  MergeStyle[\"Bezier\"] = \"bezier\";\n  MergeStyle[\"Straight\"] = \"straight\";\n})(MergeStyle || (MergeStyle = {}));\n\nexports.MergeStyle = MergeStyle;\nexports.DEFAULT_FONT = \"normal 12pt Calibri\";\n/**\n * Gitgraph template\n *\n * Set of design rules for the rendering.\n */\n\nvar Template = function Template(options) {\n  _classCallCheck(this, Template);\n\n  // Options\n  options.branch = options.branch || {};\n  options.branch.label = options.branch.label || {};\n  options.arrow = options.arrow || {};\n  options.commit = options.commit || {};\n  options.commit.dot = options.commit.dot || {};\n  options.commit.message = options.commit.message || {}; // One color per column\n\n  this.colors = options.colors || [\"#000000\"]; // Branch style\n\n  this.branch = {\n    color: options.branch.color,\n    lineWidth: options.branch.lineWidth || 2,\n    mergeStyle: options.branch.mergeStyle || MergeStyle.Bezier,\n    spacing: utils_1.numberOptionOr(options.branch.spacing, 20),\n    label: {\n      display: utils_1.booleanOptionOr(options.branch.label.display, true),\n      color: options.branch.label.color || options.commit.color,\n      strokeColor: options.branch.label.strokeColor || options.commit.color,\n      bgColor: options.branch.label.bgColor || \"white\",\n      font: options.branch.label.font || options.commit.message.font || exports.DEFAULT_FONT,\n      borderRadius: utils_1.numberOptionOr(options.branch.label.borderRadius, 10)\n    }\n  }; // Arrow style\n\n  this.arrow = {\n    size: options.arrow.size || null,\n    color: options.arrow.color || null,\n    offset: options.arrow.offset || 2\n  }; // Commit style\n\n  this.commit = {\n    color: options.commit.color,\n    spacing: utils_1.numberOptionOr(options.commit.spacing, 25),\n    hasTooltipInCompactMode: utils_1.booleanOptionOr(options.commit.hasTooltipInCompactMode, true),\n    dot: {\n      color: options.commit.dot.color || options.commit.color,\n      size: options.commit.dot.size || 3,\n      strokeWidth: utils_1.numberOptionOr(options.commit.dot.strokeWidth, 0),\n      strokeColor: options.commit.dot.strokeColor,\n      font: options.commit.dot.font || options.commit.message.font || \"normal 10pt Calibri\"\n    },\n    message: {\n      display: utils_1.booleanOptionOr(options.commit.message.display, true),\n      displayAuthor: utils_1.booleanOptionOr(options.commit.message.displayAuthor, true),\n      displayHash: utils_1.booleanOptionOr(options.commit.message.displayHash, true),\n      color: options.commit.message.color || options.commit.color,\n      font: options.commit.message.font || exports.DEFAULT_FONT\n    }\n  }; // Tag style\n  // This one is computed in the Tag instance. It needs Commit style\n  // that is partially computed at runtime (for colors).\n\n  this.tag = options.tag || {};\n};\n\nexports.Template = Template;\n/**\n * Black arrow template\n */\n\nvar blackArrowTemplate = new Template({\n  colors: [\"#6963FF\", \"#47E8D4\", \"#6BDB52\", \"#E84BA5\", \"#FFA657\"],\n  branch: {\n    color: \"#000000\",\n    lineWidth: 4,\n    spacing: 50,\n    mergeStyle: MergeStyle.Straight\n  },\n  commit: {\n    spacing: 60,\n    dot: {\n      size: 16,\n      strokeColor: \"#000000\",\n      strokeWidth: 4\n    },\n    message: {\n      color: \"black\"\n    }\n  },\n  arrow: {\n    size: 16,\n    offset: -1.5\n  }\n});\nexports.blackArrowTemplate = blackArrowTemplate;\n/**\n * Metro template\n */\n\nvar metroTemplate = new Template({\n  colors: [\"#979797\", \"#008fb5\", \"#f1c109\"],\n  branch: {\n    lineWidth: 10,\n    spacing: 50\n  },\n  commit: {\n    spacing: 80,\n    dot: {\n      size: 14\n    },\n    message: {\n      font: \"normal 14pt Arial\"\n    }\n  }\n});\nexports.metroTemplate = metroTemplate;\nvar TemplateName;\n\n(function (TemplateName) {\n  TemplateName[\"Metro\"] = \"metro\";\n  TemplateName[\"BlackArrow\"] = \"blackarrow\";\n})(TemplateName || (TemplateName = {}));\n\nexports.TemplateName = TemplateName;\n/**\n * Extend an existing template with new options.\n *\n * @param selectedTemplate Template to extend\n * @param options Template options\n */\n\nfunction templateExtend(selectedTemplate, options) {\n  var template = getTemplate(selectedTemplate);\n  if (!options.branch) options.branch = {};\n  if (!options.commit) options.commit = {}; // This is tedious, but it seems acceptable so we don't need lodash\n  // as we want to keep bundlesize small.\n\n  return {\n    colors: options.colors || template.colors,\n    arrow: Object.assign({}, template.arrow, options.arrow),\n    branch: Object.assign({}, template.branch, options.branch, {\n      label: Object.assign({}, template.branch.label, options.branch.label)\n    }),\n    commit: Object.assign({}, template.commit, options.commit, {\n      dot: Object.assign({}, template.commit.dot, options.commit.dot),\n      message: Object.assign({}, template.commit.message, options.commit.message)\n    }),\n    tag: Object.assign({}, template.tag, options.tag)\n  };\n}\n\nexports.templateExtend = templateExtend;\n/**\n * Resolve the template to use regarding given `template` value.\n *\n * @param template Selected template name, or instance.\n */\n\nfunction getTemplate(template) {\n  if (!template) return metroTemplate;\n\n  if (typeof template === \"string\") {\n    var _TemplateName$BlackAr;\n\n    return (_TemplateName$BlackAr = {}, _defineProperty(_TemplateName$BlackAr, TemplateName.BlackArrow, blackArrowTemplate), _defineProperty(_TemplateName$BlackAr, TemplateName.Metro, metroTemplate), _TemplateName$BlackAr)[template];\n  }\n\n  return template;\n}\n\nexports.getTemplate = getTemplate;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","\"use strict\";\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RegularGraphRows = /*#__PURE__*/function () {\n  function RegularGraphRows(commits) {\n    _classCallCheck(this, RegularGraphRows);\n\n    this.rows = new Map();\n    this.maxRowCache = undefined;\n    this.computeRowsFromCommits(commits);\n  }\n\n  _createClass(RegularGraphRows, [{\n    key: \"getRowOf\",\n    value: function getRowOf(commitHash) {\n      return this.rows.get(commitHash) || 0;\n    }\n  }, {\n    key: \"getMaxRow\",\n    value: function getMaxRow() {\n      if (this.maxRowCache === undefined) {\n        this.maxRowCache = uniq(Array.from(this.rows.values())).length - 1;\n      }\n\n      return this.maxRowCache;\n    }\n  }, {\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        _this.rows.set(commit.hash, i);\n      });\n      this.maxRowCache = undefined;\n    }\n  }]);\n\n  return RegularGraphRows;\n}();\n\nexports.RegularGraphRows = RegularGraphRows;\n/**\n * Creates a duplicate-free version of an array.\n *\n * Don't use lodash's `uniq` as it increased bundlesize a lot for such a\n * simple function.\n * => The way we bundle for browser seems not to work with `lodash-es`.\n * => I didn't to get tree-shaking to work with `lodash` (the CommonJS version).\n *\n * @param array Array of values\n */\n\nfunction uniq(array) {\n  var set = new Set();\n  array.forEach(function (value) {\n    return set.add(value);\n  });\n  return Array.from(set);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tag_1 = require(\"./tag\");\n/**\n * Generate a random hash.\n *\n * @return hex string with 40 chars\n */\n\n\nvar getRandomHash = function getRandomHash() {\n  return (Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3)).substring(0, 40);\n};\n\nvar Commit = /*#__PURE__*/function () {\n  function Commit(options) {\n    var _this = this;\n\n    _classCallCheck(this, Commit);\n\n    /**\n     * Ref names\n     */\n    this.refs = [];\n    /**\n     * Commit x position\n     */\n\n    this.x = 0;\n    /**\n     * Commit y position\n     */\n\n    this.y = 0; // Set author & committer\n\n    var name, email;\n\n    try {\n      var _options$author$match = options.author.match(/(.*) <(.*)>/);\n\n      var _options$author$match2 = _slicedToArray(_options$author$match, 3);\n\n      name = _options$author$match2[1];\n      email = _options$author$match2[2];\n    } catch (e) {\n      var _ref = [options.author, \"\"];\n      name = _ref[0];\n      email = _ref[1];\n    }\n\n    this.author = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    };\n    this.committer = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    }; // Set commit message\n\n    this.subject = options.subject;\n    this.body = options.body || \"\"; // Set commit hash\n\n    this.hash = options.hash || getRandomHash();\n    this.hashAbbrev = this.hash.substring(0, 7); // Set parent hash\n\n    this.parents = options.parents ? options.parents : [];\n    this.parentsAbbrev = this.parents.map(function (commit) {\n      return commit.substring(0, 7);\n    }); // Set style\n\n    this.style = Object.assign({}, options.style, {\n      message: Object.assign({}, options.style.message),\n      dot: Object.assign({}, options.style.dot)\n    });\n    this.dotText = options.dotText; // Set callbacks\n\n    this.onClick = function () {\n      return options.onClick ? options.onClick(_this) : undefined;\n    };\n\n    this.onMessageClick = function () {\n      return options.onMessageClick ? options.onMessageClick(_this) : undefined;\n    };\n\n    this.onMouseOver = function () {\n      return options.onMouseOver ? options.onMouseOver(_this) : undefined;\n    };\n\n    this.onMouseOut = function () {\n      return options.onMouseOut ? options.onMouseOut(_this) : undefined;\n    }; // Set custom renders\n\n\n    this.renderDot = options.renderDot;\n    this.renderMessage = options.renderMessage;\n    this.renderTooltip = options.renderTooltip;\n  }\n  /**\n   * Message\n   */\n\n\n  _createClass(Commit, [{\n    key: \"setRefs\",\n    value: function setRefs(refs) {\n      this.refs = refs.getNames(this.hash);\n      return this;\n    }\n  }, {\n    key: \"setTags\",\n    value: function setTags(tags, getTagStyle, getTagRender) {\n      var _this2 = this;\n\n      this.tags = tags.getNames(this.hash).map(function (name) {\n        return new tag_1.Tag(name, getTagStyle(name), getTagRender(name), _this2.style);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBranches\",\n    value: function setBranches(branches) {\n      this.branches = branches;\n      return this;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(_ref2) {\n      var x = _ref2.x,\n          y = _ref2.y;\n      this.x = x;\n      this.y = y;\n      return this;\n    }\n  }, {\n    key: \"withDefaultColor\",\n    value: function withDefaultColor(color) {\n      var newStyle = Object.assign({}, this.style, {\n        dot: Object.assign({}, this.style.dot),\n        message: Object.assign({}, this.style.message)\n      });\n      if (!newStyle.color) newStyle.color = color;\n      if (!newStyle.dot.color) newStyle.dot.color = color;\n      if (!newStyle.message.color) newStyle.message.color = color;\n      var commit = this.cloneCommit();\n      commit.style = newStyle;\n      return commit;\n    }\n    /**\n     * Ideally, we want Commit to be a [Value Object](https://martinfowler.com/bliki/ValueObject.html).\n     * We started with a mutable class. So we'll refactor that little by little.\n     * This private function is a helper to create a new Commit from existing one.\n     */\n\n  }, {\n    key: \"cloneCommit\",\n    value: function cloneCommit() {\n      var commit = new Commit({\n        author: \"\".concat(this.author.name, \" <\").concat(this.author.email, \">\"),\n        subject: this.subject,\n        style: this.style,\n        body: this.body,\n        hash: this.hash,\n        parents: this.parents,\n        dotText: this.dotText,\n        onClick: this.onClick,\n        onMessageClick: this.onMessageClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        renderDot: this.renderDot,\n        renderMessage: this.renderMessage,\n        renderTooltip: this.renderTooltip\n      });\n      commit.refs = this.refs;\n      commit.branches = this.branches;\n      commit.tags = this.tags;\n      commit.x = this.x;\n      commit.y = this.y;\n      return commit;\n    }\n  }, {\n    key: \"message\",\n    get: function get() {\n      var message = \"\";\n\n      if (this.style.message.displayHash) {\n        message += \"\".concat(this.hashAbbrev, \" \");\n      }\n\n      message += this.subject;\n\n      if (this.style.message.displayAuthor) {\n        message += \" - \".concat(this.author.name, \" <\").concat(this.author.email, \">\");\n      }\n\n      return message;\n    }\n    /**\n     * Branch that should be rendered\n     */\n\n  }, {\n    key: \"branchToDisplay\",\n    get: function get() {\n      return this.branches ? this.branches[0] : \"\";\n    }\n  }]);\n\n  return Commit;\n}();\n\nexports.Commit = Commit;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Mode;\n\n(function (Mode) {\n  Mode[\"Compact\"] = \"compact\";\n})(Mode || (Mode = {}));\n\nexports.Mode = Mode;","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar utils_1 = require(\"../utils\");\n\nvar BranchUserApi = /*#__PURE__*/function () {\n  // tslint:enable:variable-name\n  function BranchUserApi(branch, graph, onGraphUpdate) {\n    _classCallCheck(this, BranchUserApi);\n\n    this._branch = branch;\n    this.name = branch.name;\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n\n  _createClass(BranchUserApi, [{\n    key: \"branch\",\n    value: function branch(args) {\n      var options = typeof args === \"string\" ? {\n        name: args\n      } : args;\n      options.from = this;\n      return this._graph.createBranch(options).getUserApi();\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      // Deal with shorter syntax\n      if (typeof options === \"string\") options = {\n        subject: options\n      };\n      if (!options) options = {};\n\n      this._commitWithParents(options, []);\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"merge\",\n    value: function merge() {\n      var options = arguments.length <= 0 ? undefined : arguments[0];\n\n      if (!isBranchMergeOptions(options)) {\n        options = {\n          branch: arguments.length <= 0 ? undefined : arguments[0],\n          fastForward: false,\n          commitOptions: {\n            subject: arguments.length <= 1 ? undefined : arguments[1]\n          }\n        };\n      }\n\n      var _options = options,\n          branch = _options.branch,\n          fastForward = _options.fastForward,\n          commitOptions = _options.commitOptions;\n      var branchName = typeof branch === \"string\" ? branch : branch.name;\n\n      var branchLastCommitHash = this._graph.refs.getCommit(branchName);\n\n      if (!branchLastCommitHash) {\n        throw new Error(\"The branch called \\\"\".concat(branchName, \"\\\" is unknown\"));\n      }\n\n      var canFastForward = false;\n\n      if (fastForward) {\n        var lastCommitHash = this._graph.refs.getCommit(this._branch.name);\n\n        if (lastCommitHash) {\n          canFastForward = this._areCommitsConnected(lastCommitHash, branchLastCommitHash);\n        }\n      }\n\n      if (fastForward && canFastForward) {\n        this._fastForwardTo(branchLastCommitHash);\n      } else {\n        this._commitWithParents(Object.assign({}, commitOptions, {\n          subject: commitOptions && commitOptions.subject || \"Merge branch \".concat(branchName)\n        }), [branchLastCommitHash]);\n      }\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"tag\",\n    value: function tag(options) {\n      if (typeof options === \"string\") {\n        this._graph.getUserApi().tag({\n          name: options,\n          ref: this._branch.name\n        });\n      } else {\n        this._graph.getUserApi().tag(Object.assign({}, options, {\n          ref: this._branch.name\n        }));\n      }\n\n      return this;\n    }\n    /**\n     * Checkout onto this branch.\n     */\n\n  }, {\n    key: \"checkout\",\n    value: function checkout() {\n      this._graph.currentBranch = this._branch;\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n\n  }, {\n    key: \"_commitWithParents\",\n    value: function _commitWithParents(options, parents) {\n      var _this = this;\n\n      var parentOnSameBranch = this._graph.refs.getCommit(this._branch.name);\n\n      if (parentOnSameBranch) {\n        parents.unshift(parentOnSameBranch);\n      } else if (this._branch.parentCommitHash) {\n        parents.unshift(this._branch.parentCommitHash);\n      }\n\n      var tag = options.tag,\n          commitOptions = __rest(options, [\"tag\"]);\n\n      var commit = new commit_1.Commit(Object.assign({\n        hash: this._graph.generateCommitHash(),\n        author: this._branch.commitDefaultOptions.author || this._graph.author,\n        subject: this._branch.commitDefaultOptions.subject || this._graph.commitMessage\n      }, commitOptions, {\n        parents: parents,\n        style: this._getCommitStyle(options.style)\n      }));\n\n      if (parentOnSameBranch) {\n        // Take all the refs from the parent\n        var parentRefs = this._graph.refs.getNames(parentOnSameBranch);\n\n        parentRefs.forEach(function (ref) {\n          return _this._graph.refs.set(ref, commit.hash);\n        });\n      } else {\n        // Set the branch ref\n        this._graph.refs.set(this._branch.name, commit.hash);\n      } // Add the new commit\n\n\n      this._graph.commits.push(commit); // Move HEAD on the last commit\n\n\n      this.checkout();\n\n      this._graph.refs.set(\"HEAD\", commit.hash); // Add a tag to the commit if `option.tag` is provide\n\n\n      if (tag) this.tag(tag);\n    }\n  }, {\n    key: \"_areCommitsConnected\",\n    value: function _areCommitsConnected(parentCommitHash, childCommitHash) {\n      var _this2 = this;\n\n      var childCommit = this._graph.commits.find(function (_ref) {\n        var hash = _ref.hash;\n        return childCommitHash === hash;\n      });\n\n      if (!childCommit) return false;\n      var isFirstCommitOfGraph = childCommit.parents.length === 0;\n      if (isFirstCommitOfGraph) return false;\n\n      if (childCommit.parents.includes(parentCommitHash)) {\n        return true;\n      } // `childCommitHash` is not a direct child of `parentCommitHash`.\n      // But maybe one of `childCommitHash` parent is.\n\n\n      return childCommit.parents.some(function (directParentHash) {\n        return _this2._areCommitsConnected(parentCommitHash, directParentHash);\n      });\n    }\n  }, {\n    key: \"_fastForwardTo\",\n    value: function _fastForwardTo(commitHash) {\n      this._graph.refs.set(this._branch.name, commitHash);\n    }\n  }, {\n    key: \"_getCommitStyle\",\n    value: function _getCommitStyle() {\n      var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style), style, {\n        message: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.message), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.message), style.message, utils_1.withoutUndefinedKeys({\n          display: this._graph.shouldDisplayCommitMessage && undefined\n        })),\n        dot: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.dot), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.dot), style.dot)\n      });\n    }\n  }]);\n\n  return BranchUserApi;\n}();\n\nexports.BranchUserApi = BranchUserApi;\n\nfunction isBranchMergeOptions(options) {\n  return typeof options === \"object\" && !(options instanceof BranchUserApi);\n}","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nvar _defineProperty = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar orientation_1 = require(\"./orientation\");\n/**\n * Provide a default value to a boolean.\n * @param value\n * @param defaultValue\n */\n\n\nfunction booleanOptionOr(value, defaultValue) {\n  return typeof value === \"boolean\" ? value : defaultValue;\n}\n\nexports.booleanOptionOr = booleanOptionOr;\n/**\n * Provide a default value to a number.\n * @param value\n * @param defaultValue\n */\n\nfunction numberOptionOr(value, defaultValue) {\n  return typeof value === \"number\" ? value : defaultValue;\n}\n\nexports.numberOptionOr = numberOptionOr;\n/**\n * Creates an object composed of the picked object properties.\n * @param obj The source object\n * @param paths The property paths to pick\n */\n\nfunction pick(obj, paths) {\n  return Object.assign({}, paths.reduce(function (mem, key) {\n    return Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {}));\n}\n\nexports.pick = pick;\n/**\n * Print a light version of commits into the console.\n * @param commits List of commits\n * @param paths The property paths to pick\n */\n\nfunction debug(commits, paths) {\n  // tslint:disable-next-line:no-console\n  console.log(JSON.stringify(commits.map(function (commit) {\n    return pick(commit, paths);\n  }), null, 2));\n}\n\nexports.debug = debug;\n/**\n * Return true if is undefined.\n *\n * @param obj\n */\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nexports.isUndefined = isUndefined;\n/**\n * Return a version of the object without any undefined keys.\n *\n * @param obj\n */\n\nfunction withoutUndefinedKeys() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.keys(obj).reduce(function (mem, key) {\n    return isUndefined(obj[key]) ? mem : Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {});\n}\n\nexports.withoutUndefinedKeys = withoutUndefinedKeys;\n/**\n * Return a string ready to use in `svg.path.d` to draw an arrow from params.\n *\n * @param graph Graph context\n * @param parent Parent commit of the target commit\n * @param commit Target commit\n */\n\nfunction arrowSvgPath(graph, parent, commit) {\n  var commitRadius = commit.style.dot.size;\n  var size = graph.template.arrow.size;\n  var h = commitRadius + graph.template.arrow.offset; // Delta between left & right (radian)\n\n  var delta = Math.PI / 7; // Alpha angle between parent & commit (radian)\n\n  var alpha = getAlpha(graph, parent, commit); // Top\n\n  var x1 = h * Math.cos(alpha);\n  var y1 = h * Math.sin(alpha); // Bottom right\n\n  var x2 = (h + size) * Math.cos(alpha - delta);\n  var y2 = (h + size) * Math.sin(alpha - delta); // Bottom center\n\n  var x3 = (h + size / 2) * Math.cos(alpha);\n  var y3 = (h + size / 2) * Math.sin(alpha); // Bottom left\n\n  var x4 = (h + size) * Math.cos(alpha + delta);\n  var y4 = (h + size) * Math.sin(alpha + delta);\n  return \"M\".concat(x1, \",\").concat(y1, \" L\").concat(x2, \",\").concat(y2, \" Q\").concat(x3, \",\").concat(y3, \" \").concat(x4, \",\").concat(y4, \" L\").concat(x4, \",\").concat(y4);\n}\n\nexports.arrowSvgPath = arrowSvgPath;\n\nfunction getAlpha(graph, parent, commit) {\n  var deltaX = parent.x - commit.x;\n  var deltaY = parent.y - commit.y;\n  var commitSpacing = graph.template.commit.spacing;\n  var alphaY;\n  var alphaX; // Angle usually start from previous commit Y position:\n  //\n  // o\n  //   \n  // o  |  <-- path is straight until last commit Y position\n  //   o\n  // | \n  // o\n  //\n  // So we can to default to commit spacing.\n  // For horizontal orientation => same with commit X position.\n\n  switch (graph.orientation) {\n    case orientation_1.Orientation.Horizontal:\n      alphaY = deltaY;\n      alphaX = -commitSpacing;\n      break;\n\n    case orientation_1.Orientation.HorizontalReverse:\n      alphaY = deltaY;\n      alphaX = commitSpacing;\n      break;\n\n    case orientation_1.Orientation.VerticalReverse:\n      alphaY = -commitSpacing;\n      alphaX = deltaX;\n      break;\n\n    default:\n      alphaY = commitSpacing;\n      alphaX = deltaX;\n      break;\n  } // If commit is distant from its parent, there should be no angle.\n  //\n  //    o \n  //      <-- arrow is like previous commit was on same X position\n  // o  |\n  // | /\n  // o\n  //\n  // For horizontal orientation => same with commit Y position.\n\n\n  if (graph.isVertical) {\n    if (Math.abs(deltaY) > commitSpacing) alphaX = 0;\n  } else {\n    if (Math.abs(deltaX) > commitSpacing) alphaY = 0;\n  }\n\n  if (graph.reverseArrow) {\n    alphaY *= -1;\n    alphaX *= -1;\n  }\n\n  return Math.atan2(alphaY, alphaX);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nvar DELETED_BRANCH_NAME = \"\";\nexports.DELETED_BRANCH_NAME = DELETED_BRANCH_NAME;\n\nvar Branch = /*#__PURE__*/function () {\n  function Branch(options) {\n    _classCallCheck(this, Branch);\n\n    this.gitgraph = options.gitgraph;\n    this.name = options.name;\n    this.style = options.style;\n    this.parentCommitHash = options.parentCommitHash;\n    this.commitDefaultOptions = options.commitDefaultOptions || {\n      style: {}\n    };\n    this.onGraphUpdate = options.onGraphUpdate;\n    this.renderLabel = options.renderLabel;\n  }\n  /**\n   * Return the API to manipulate Gitgraph branch as a user.\n   */\n\n\n  _createClass(Branch, [{\n    key: \"getUserApi\",\n    value: function getUserApi() {\n      return new branch_user_api_1.BranchUserApi(this, this.gitgraph, this.onGraphUpdate);\n    }\n    /**\n     * Return true if branch was deleted.\n     */\n\n  }, {\n    key: \"isDeleted\",\n    value: function isDeleted() {\n      return this.name === DELETED_BRANCH_NAME;\n    }\n  }]);\n\n  return Branch;\n}();\n\nexports.Branch = Branch;\n\nfunction createDeletedBranch(gitgraph, style, onGraphUpdate) {\n  return new Branch({\n    name: DELETED_BRANCH_NAME,\n    gitgraph: gitgraph,\n    style: style,\n    onGraphUpdate: onGraphUpdate\n  });\n}\n\nexports.createDeletedBranch = createDeletedBranch;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.reflect.construct\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar regular_1 = require(\"./regular\");\n\nvar CompactGraphRows = /*#__PURE__*/function (_regular_1$RegularGra) {\n  _inherits(CompactGraphRows, _regular_1$RegularGra);\n\n  var _super = _createSuper(CompactGraphRows);\n\n  function CompactGraphRows() {\n    _classCallCheck(this, CompactGraphRows);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompactGraphRows, [{\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        var newRow = i;\n        var isFirstCommit = i === 0;\n\n        if (!isFirstCommit) {\n          var parentRow = _this.getRowOf(commit.parents[0]);\n\n          var historyParent = commits[i - 1];\n          newRow = Math.max(parentRow + 1, _this.getRowOf(historyParent.hash));\n          var isMergeCommit = commit.parents.length > 1;\n\n          if (isMergeCommit) {\n            // Push commit to next row to avoid collision when the branch in which\n            // the merge happens has more commits than the merged branch.\n            var mergeTargetParentRow = _this.getRowOf(commit.parents[1]);\n\n            if (parentRow < mergeTargetParentRow) newRow++;\n          }\n        }\n\n        _this.rows.set(commit.hash, newRow);\n      });\n    }\n  }]);\n\n  return CompactGraphRows;\n}(regular_1.RegularGraphRows);\n\nexports.CompactGraphRows = CompactGraphRows;","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar BranchLabel =\n/** @class */\nfunction (_super) {\n  __extends(BranchLabel, _super);\n\n  function BranchLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0,\n      textHeight: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  BranchLabel.prototype.componentDidMount = function () {\n    var box = this.$text.current.getBBox();\n    this.setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  };\n\n  BranchLabel.prototype.render = function () {\n    var _a = this.props,\n        branch = _a.branch,\n        commit = _a.commit;\n    var boxWidth = this.state.textWidth + 2 * BranchLabel.paddingX;\n    var boxHeight = this.state.textHeight + 2 * BranchLabel.paddingY;\n    return React.createElement(\"g\", null, React.createElement(\"rect\", {\n      stroke: branch.style.label.strokeColor || commit.style.color,\n      fill: branch.style.label.bgColor,\n      rx: branch.style.label.borderRadius,\n      width: boxWidth,\n      height: boxHeight\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      fill: branch.style.label.color || commit.style.color,\n      style: {\n        font: branch.style.label.font\n      },\n      alignmentBaseline: \"middle\",\n      dominantBaseline: \"middle\",\n      x: BranchLabel.paddingX,\n      y: boxHeight / 2\n    }, branch.name));\n  };\n\n  BranchLabel.paddingX = 10;\n  BranchLabel.paddingY = 5;\n  return BranchLabel;\n}(React.Component);\n\nexport { BranchLabel };","import \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  Tooltip.prototype.componentDidMount = function () {\n    this.setState({\n      textWidth: this.$text.current.getBBox().width\n    });\n  };\n\n  Tooltip.prototype.render = function () {\n    var commitSize = this.props.commit.style.dot.size * 2;\n    var offset = 10;\n    var padding = Tooltip.padding;\n    var radius = 5;\n    var boxHeight = 50;\n    var boxWidth = offset + this.state.textWidth + 2 * padding;\n    var path = [\"M 0,0\", \"L \" + offset + \",\" + offset, \"V \" + (boxHeight / 2 - radius), \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V -\" + (boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + (boxHeight / 2 - radius), \"V -\" + offset, \"z\"].join(\" \");\n    return React.createElement(\"g\", {\n      transform: \"translate(\" + commitSize + \", \" + commitSize / 2 + \")\"\n    }, React.createElement(\"path\", {\n      d: path,\n      fill: \"#EEE\"\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      x: offset + padding,\n      y: 0,\n      alignmentBaseline: \"central\",\n      fill: \"#333\"\n    }, this.props.children));\n  };\n\n  Tooltip.padding = 10;\n  return Tooltip;\n}(React.Component);\n\nexport { Tooltip };","import * as React from \"react\";\nexport var Dot = function Dot(_a) {\n  var commit = _a.commit,\n      onMouseOver = _a.onMouseOver,\n      onMouseOut = _a.onMouseOut;\n  return (\n    /*\n      In order to handle strokes, we need to do some complex stuff here \n         Problem: strokes are drawn inside & outside the circle.\n      But we want the stroke to be drawn inside only!\n         The outside overlaps with other elements, as we expect the dot to have a fixed size. So we want to crop the outside part.\n         Solution:\n      1. Create the circle in a <defs>\n      2. Define a clip path that references the circle\n      3. Use the clip path, adding the stroke.\n      4. Double stroke width as half of it will be clipped (the outside part).\n         Ref.: https://stackoverflow.com/a/32162431/3911841\n         P.S. there is a proposal for a stroke-alignment property,\n      but it's still a W3C Draft \\_()_/\n      https://svgwg.org/specs/strokes/#SpecifyingStrokeAlignment\n    */\n    React.createElement(React.Fragment, null, React.createElement(\"defs\", null, React.createElement(\"circle\", {\n      id: commit.hash,\n      cx: commit.style.dot.size,\n      cy: commit.style.dot.size,\n      r: commit.style.dot.size,\n      fill: commit.style.dot.color\n    }), React.createElement(\"clipPath\", {\n      id: \"clip-\" + commit.hash\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash\n    }))), React.createElement(\"g\", {\n      onClick: commit.onClick,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash,\n      clipPath: \"url(#clip-\" + commit.hash + \")\",\n      stroke: commit.style.dot.strokeColor,\n      strokeWidth: commit.style.dot.strokeWidth && commit.style.dot.strokeWidth * 2\n    }), commit.dotText && React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      textAnchor: \"middle\",\n      x: commit.style.dot.size,\n      y: commit.style.dot.size,\n      style: {\n        font: commit.style.dot.font\n      }\n    }, commit.dotText)))\n  );\n};","import \"core-js/modules/es6.function.name\";\nimport * as React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nexport var TAG_PADDING_X = 10;\nexport var TAG_PADDING_Y = 5;\nexport function Tag(props) {\n  var _a = useState({\n    textWidth: 0,\n    textHeight: 0\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var $text = useRef(null);\n  useEffect(function () {\n    var box = $text.current.getBBox();\n    setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  }, []);\n  var tag = props.tag;\n  var offset = tag.style.pointerWidth;\n  var radius = tag.style.borderRadius;\n  var boxWidth = offset + state.textWidth + 2 * TAG_PADDING_X;\n  var boxHeight = state.textHeight + 2 * TAG_PADDING_Y;\n  var path = [\"M 0,0\", \"L \" + offset + \",\" + boxHeight / 2, \"V \" + boxHeight / 2, \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V -\" + (boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + boxHeight / 2, \"V -\" + boxHeight / 2, \"z\"].join(\" \");\n  return React.createElement(\"g\", null, React.createElement(\"path\", {\n    d: path,\n    fill: tag.style.bgColor,\n    stroke: tag.style.strokeColor\n  }), React.createElement(\"text\", {\n    ref: $text,\n    fill: tag.style.color,\n    style: {\n      font: tag.style.font\n    },\n    alignmentBaseline: \"middle\",\n    dominantBaseline: \"middle\",\n    x: offset + TAG_PADDING_X,\n    y: 0\n  }, tag.name));\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\nimport { GitgraphCore, MergeStyle, Mode, Orientation, TemplateName, templateExtend, toSvgPath, arrowSvgPath } from \"@gitgraph/core\";\nimport { BranchLabel } from \"./BranchLabel\";\nimport { Tooltip } from \"./Tooltip\";\nimport { Dot } from \"./Dot\";\nimport { Tag, TAG_PADDING_X } from \"./Tag\";\nexport { Gitgraph, TemplateName, templateExtend, MergeStyle, Mode, Orientation };\n\nfunction isPropsWithGraph(props) {\n  return \"graph\" in props;\n}\n\nvar Gitgraph =\n/** @class */\nfunction (_super) {\n  __extends(Gitgraph, _super);\n\n  function Gitgraph(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.$graph = React.createRef();\n    _this.$commits = React.createRef();\n    _this.$tooltip = null;\n    _this.commitsElements = {};\n    _this.state = {\n      commits: [],\n      branchesPaths: new Map(),\n      commitMessagesX: 0,\n      commitYWithOffsets: {},\n      shouldRecomputeOffsets: true,\n      currentCommitOver: null\n    };\n    _this.gitgraph = isPropsWithGraph(props) ? props.graph : new GitgraphCore(props.options);\n\n    _this.gitgraph.subscribe(function (data) {\n      var commits = data.commits,\n          branchesPaths = data.branchesPaths,\n          commitMessagesX = data.commitMessagesX;\n\n      _this.setState({\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX,\n        shouldRecomputeOffsets: true\n      });\n    });\n\n    return _this;\n  }\n\n  Gitgraph.prototype.render = function () {\n    return React.createElement(\"svg\", {\n      ref: this.$graph\n    }, React.createElement(\"g\", {\n      transform: \"translate(\" + BranchLabel.paddingX + \", \" + Tooltip.padding + \")\"\n    }, this.renderBranchesPaths(), this.renderCommits(), this.$tooltip));\n  };\n\n  Gitgraph.prototype.componentDidMount = function () {\n    if (isPropsWithGraph(this.props)) return;\n    this.props.children(this.gitgraph.getUserApi());\n  };\n\n  Gitgraph.prototype.componentDidUpdate = function () {\n    if (this.$graph.current) {\n      var _a = this.$graph.current.getBBox(),\n          height = _a.height,\n          width = _a.width;\n\n      this.$graph.current.setAttribute(\"width\", // Add `Tooltip.padding` so we don't crop the tooltip text.\n      // Add `BranchLabel.paddingX` so we don't cut branch label.\n      (width + Tooltip.padding + BranchLabel.paddingX).toString());\n      this.$graph.current.setAttribute(\"height\", // Add `Tooltip.padding` so we don't crop tooltip text\n      // Add `BranchLabel.paddingY` so we don't crop branch label.\n      (height + Tooltip.padding + BranchLabel.paddingY).toString());\n    }\n\n    if (!this.state.shouldRecomputeOffsets) return;\n    if (!this.$commits.current) return;\n    this.positionCommitsElements();\n    var commits = Array.from(this.$commits.current.children);\n    this.setState({\n      commitYWithOffsets: this.computeOffsets(commits),\n      shouldRecomputeOffsets: false\n    });\n  };\n\n  Gitgraph.prototype.renderBranchesPaths = function () {\n    var _this = this;\n\n    var offset = this.gitgraph.template.commit.dot.size;\n    var isBezier = this.gitgraph.template.branch.mergeStyle === MergeStyle.Bezier;\n    return Array.from(this.state.branchesPaths).map(function (_a) {\n      var branch = _a[0],\n          coordinates = _a[1];\n      return React.createElement(\"path\", {\n        key: branch.name,\n        d: toSvgPath(coordinates.map(function (a) {\n          return a.map(function (b) {\n            return _this.getWithCommitOffset(b);\n          });\n        }), isBezier, _this.gitgraph.isVertical),\n        fill: \"transparent\",\n        stroke: branch.computedColor,\n        strokeWidth: branch.style.lineWidth,\n        transform: \"translate(\" + offset + \", \" + offset + \")\"\n      });\n    });\n  };\n\n  Gitgraph.prototype.renderCommits = function () {\n    var _this = this;\n\n    return React.createElement(\"g\", {\n      ref: this.$commits\n    }, this.state.commits.map(function (commit) {\n      return _this.renderCommit(commit);\n    }));\n  };\n\n  Gitgraph.prototype.renderCommit = function (commit) {\n    var _a = this.getWithCommitOffset(commit),\n        x = _a.x,\n        y = _a.y;\n\n    var shouldRenderTooltip = this.state.currentCommitOver === commit && (this.gitgraph.isHorizontal || this.gitgraph.mode === Mode.Compact && commit.style.hasTooltipInCompactMode);\n\n    if (shouldRenderTooltip) {\n      this.$tooltip = React.createElement(\"g\", {\n        key: commit.hashAbbrev,\n        transform: \"translate(\" + x + \", \" + y + \")\"\n      }, this.renderTooltip(commit));\n    }\n\n    return React.createElement(\"g\", {\n      key: commit.hashAbbrev,\n      transform: \"translate(\" + x + \", \" + y + \")\"\n    }, this.renderDot(commit), this.gitgraph.template.arrow.size && this.renderArrows(commit), React.createElement(\"g\", {\n      transform: \"translate(\" + -x + \", 0)\"\n    }, commit.style.message.display && this.renderMessage(commit), this.renderBranchLabels(commit), this.renderTags(commit)));\n  };\n\n  Gitgraph.prototype.renderTooltip = function (commit) {\n    if (commit.renderTooltip) {\n      return commit.renderTooltip(commit);\n    }\n\n    return React.createElement(Tooltip, {\n      commit: commit\n    }, commit.hashAbbrev, \" - \", commit.subject);\n  };\n\n  Gitgraph.prototype.renderDot = function (commit) {\n    var _this = this;\n\n    if (commit.renderDot) {\n      return commit.renderDot(commit);\n    }\n\n    return React.createElement(Dot, {\n      commit: commit,\n      onMouseOver: function onMouseOver() {\n        _this.setState({\n          currentCommitOver: commit\n        });\n\n        commit.onMouseOver();\n      },\n      onMouseOut: function onMouseOut() {\n        _this.setState({\n          currentCommitOver: null\n        });\n\n        _this.$tooltip = null;\n        commit.onMouseOut();\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderArrows = function (commit) {\n    var _this = this;\n\n    var commitRadius = commit.style.dot.size;\n    return commit.parents.map(function (parentHash) {\n      var parent = _this.state.commits.find(function (_a) {\n        var hash = _a.hash;\n        return hash === parentHash;\n      });\n\n      if (!parent) return null; // Starting point, relative to commit\n\n      var origin = _this.gitgraph.reverseArrow ? {\n        x: commitRadius + (parent.x - commit.x),\n        y: commitRadius + (parent.y - commit.y)\n      } : {\n        x: commitRadius,\n        y: commitRadius\n      };\n      return React.createElement(\"g\", {\n        transform: \"translate(\" + origin.x + \", \" + origin.y + \")\"\n      }, React.createElement(\"path\", {\n        d: arrowSvgPath(_this.gitgraph, parent, commit),\n        fill: _this.gitgraph.template.arrow.color\n      }));\n    });\n  };\n\n  Gitgraph.prototype.renderMessage = function (commit) {\n    var ref = this.createMessageRef(commit);\n\n    if (commit.renderMessage) {\n      return React.createElement(\"g\", {\n        ref: ref\n      }, commit.renderMessage(commit));\n    }\n\n    var body = null;\n\n    if (commit.body) {\n      body = React.createElement(\"foreignObject\", {\n        width: \"600\",\n        x: \"10\"\n      }, React.createElement(\"p\", null, commit.body));\n    } // Use commit dot radius to align text with the middle of the dot.\n\n\n    var y = commit.style.dot.size;\n    return React.createElement(\"g\", {\n      ref: ref,\n      transform: \"translate(0, \" + y + \")\"\n    }, React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      fill: commit.style.message.color,\n      style: {\n        font: commit.style.message.font\n      },\n      onClick: commit.onMessageClick\n    }, commit.message), body);\n  };\n\n  Gitgraph.prototype.renderBranchLabels = function (commit) {\n    var _this = this; // @gitgraph/core could compute branch labels into commits directly.\n    // That will make it easier to retrieve them, just like tags.\n\n\n    var branches = Array.from(this.gitgraph.branches.values());\n    return branches.map(function (branch) {\n      if (!branch.style.label.display) return null;\n\n      if (!_this.gitgraph.branchLabelOnEveryCommit) {\n        var commitHash = _this.gitgraph.refs.getCommit(branch.name);\n\n        if (commit.hash !== commitHash) return null;\n      } // For the moment, we don't handle multiple branch labels.\n      // To do so, we'd need to reposition each of them appropriately.\n\n\n      if (commit.branchToDisplay !== branch.name) return null;\n\n      var ref = _this.createBranchLabelRef(commit);\n\n      var branchLabel = branch.renderLabel ? branch.renderLabel(branch) : React.createElement(BranchLabel, {\n        branch: branch,\n        commit: commit\n      });\n\n      if (_this.gitgraph.isVertical) {\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref\n        }, branchLabel);\n      } else {\n        var commitDotSize = commit.style.dot.size * 2;\n        var horizontalMarginTop = 10;\n        var y = commitDotSize + horizontalMarginTop;\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref,\n          transform: \"translate(\" + commit.x + \", \" + y + \")\"\n        }, branchLabel);\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderTags = function (commit) {\n    var _this = this;\n\n    if (!commit.tags) return null;\n    if (this.gitgraph.isHorizontal) return null;\n    return commit.tags.map(function (tag) {\n      var ref = _this.createTagRef(commit);\n\n      return React.createElement(\"g\", {\n        key: commit.hashAbbrev + \"-\" + tag.name,\n        ref: ref,\n        transform: \"translate(0, \" + commit.style.dot.size + \")\"\n      }, tag.render ? tag.render(tag.name, tag.style) : React.createElement(Tag, {\n        tag: tag\n      }));\n    });\n  };\n\n  Gitgraph.prototype.createBranchLabelRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].branchLabel = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createMessageRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].message = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createTagRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].tags.push(ref);\n    return ref;\n  };\n\n  Gitgraph.prototype.initCommitElements = function (commit) {\n    this.commitsElements[commit.hashAbbrev] = {\n      branchLabel: null,\n      tags: [],\n      message: null\n    };\n  };\n\n  Gitgraph.prototype.positionCommitsElements = function () {\n    var _this = this;\n\n    if (this.gitgraph.isHorizontal) {\n      // Elements don't appear on horizontal mode, yet.\n      return;\n    }\n\n    var padding = 10; // Ensure commits elements (branch labels, message) are well positionned.\n    // It can't be done at render time since elements size is dynamic.\n\n    Object.keys(this.commitsElements).forEach(function (commitHash) {\n      var _a = _this.commitsElements[commitHash],\n          branchLabel = _a.branchLabel,\n          tags = _a.tags,\n          message = _a.message; // We'll store X position progressively and translate elements.\n\n      var x = _this.state.commitMessagesX;\n\n      if (branchLabel && branchLabel.current) {\n        moveElement(branchLabel.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var branchLabelWidth = branchLabel.current.getBBox().width + BranchLabel.paddingX;\n        x += branchLabelWidth + padding;\n      }\n\n      tags.forEach(function (tag) {\n        if (!tag || !tag.current) return;\n        moveElement(tag.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var tagWidth = tag.current.getBBox().width + TAG_PADDING_X;\n        x += tagWidth + padding;\n      });\n\n      if (message && message.current) {\n        moveElement(message.current, x);\n      }\n    });\n  };\n\n  Gitgraph.prototype.computeOffsets = function (commits) {\n    var totalOffsetY = 0; // In VerticalReverse orientation, commits are in the same order in the DOM.\n\n    var orientedCommits = this.gitgraph.orientation === Orientation.VerticalReverse ? commits : commits.reverse();\n    return orientedCommits.reduce(function (newOffsets, commit) {\n      var commitY = parseInt(commit.getAttribute(\"transform\").split(\",\")[1].slice(0, -1), 10);\n      var firstForeignObject = commit.getElementsByTagName(\"foreignObject\")[0];\n      var customHtmlMessage = firstForeignObject && firstForeignObject.firstElementChild;\n      var messageHeight = 0;\n\n      if (customHtmlMessage) {\n        var height = customHtmlMessage.getBoundingClientRect().height;\n        var marginTopInPx = window.getComputedStyle(customHtmlMessage).marginTop || \"0px\";\n        var marginTop = parseInt(marginTopInPx.replace(\"px\", \"\"), 10);\n        messageHeight = height + marginTop;\n      } // Force the height of the foreignObject (browser issue)\n\n\n      if (firstForeignObject) {\n        firstForeignObject.setAttribute(\"height\", messageHeight + \"px\");\n      }\n\n      newOffsets[commitY] = commitY + totalOffsetY; // Increment total offset after setting the offset\n      // => offset next commits accordingly.\n\n      totalOffsetY += messageHeight;\n      return newOffsets;\n    }, {});\n  };\n\n  Gitgraph.prototype.getWithCommitOffset = function (_a) {\n    var x = _a.x,\n        y = _a.y;\n    return {\n      x: x,\n      y: this.state.commitYWithOffsets[y] || y\n    };\n  };\n\n  Gitgraph.defaultProps = {\n    options: {}\n  };\n  return Gitgraph;\n}(React.Component);\n\nfunction moveElement(target, x) {\n  var transform = target.getAttribute(\"transform\") || \"translate(0, 0)\";\n  target.setAttribute(\"transform\", transform.replace(/translate\\(([\\d\\.]+),/, \"translate(\" + x + \",\"));\n}","import { Gitgraph } from \"@gitgraph/react\"\r\nimport React from 'react'\r\n\r\nconst Clean = () => (\r\n    <Gitgraph>{(gitgraph) => {\r\n        const main = gitgraph.branch('main')\r\n        main.commit('Initial Commit')\r\n        main.commit('Feature Release')\r\n\r\n        const feature1 = main.branch('feature1')\r\n        feature1.commit('feature1')\r\n\r\n        const feature = main.branch('feature_branch')\r\n        feature.commit('FiX Formatted with Black')\r\n        feature.commit('FEAT implemented feature into the project')\r\n        main.merge(feature)\r\n\r\n\r\n    }}</Gitgraph>\r\n)\r\n\r\nexport default Clean\r\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.set\");\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_1 = require(\"./branch\");\n\nvar graph_rows_1 = require(\"./graph-rows\");\n\nvar mode_1 = require(\"./mode\");\n\nvar branches_order_1 = require(\"./branches-order\");\n\nvar template_1 = require(\"./template\");\n\nvar refs_1 = require(\"./refs\");\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nvar utils_1 = require(\"./utils\");\n\nvar orientation_1 = require(\"./orientation\");\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nvar GitgraphCore = /*#__PURE__*/function () {\n  function GitgraphCore() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, GitgraphCore);\n\n    this.refs = new refs_1.Refs();\n    this.tags = new refs_1.Refs();\n    this.tagStyles = {};\n    this.tagRenders = {};\n    this.commits = [];\n    this.branches = new Map();\n    this.listeners = [];\n    this.nextTimeoutId = null;\n    this.template = template_1.getTemplate(options.template); // Set a default `master` branch\n\n    this.currentBranch = this.createBranch(\"master\"); // Set all options with default values\n\n    this.orientation = options.orientation;\n    this.reverseArrow = utils_1.booleanOptionOr(options.reverseArrow, false);\n    this.initCommitOffsetX = utils_1.numberOptionOr(options.initCommitOffsetX, 0);\n    this.initCommitOffsetY = utils_1.numberOptionOr(options.initCommitOffsetY, 0);\n    this.mode = options.mode;\n    this.author = options.author || \"Sergio Flores <saxo-guy@epic.com>\";\n    this.commitMessage = options.commitMessage || \"He doesn't like George Michael! Boooo!\";\n    this.generateCommitHash = typeof options.generateCommitHash === \"function\" ? options.generateCommitHash : function () {\n      return undefined;\n    };\n    this.branchesOrderFunction = typeof options.compareBranchesOrder === \"function\" ? options.compareBranchesOrder : undefined;\n    this.branchLabelOnEveryCommit = utils_1.booleanOptionOr(options.branchLabelOnEveryCommit, false);\n  }\n\n  _createClass(GitgraphCore, [{\n    key: \"getUserApi\",\n\n    /**\n     * Return the API to manipulate Gitgraph as a user.\n     * Rendering library should give that API to their consumer.\n     */\n    value: function getUserApi() {\n      var _this = this;\n\n      return new gitgraph_user_api_1.GitgraphUserApi(this, function () {\n        return _this.next();\n      });\n    }\n    /**\n     * Add a change listener.\n     * It will be called any time the graph have changed (commit, merge).\n     *\n     * @param listener A callback to be invoked on every change.\n     * @returns A function to remove this change listener.\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      var isSubscribed = true;\n      return function () {\n        if (!isSubscribed) return;\n        isSubscribed = false;\n\n        var index = _this2.listeners.indexOf(listener);\n\n        _this2.listeners.splice(index, 1);\n      };\n    }\n    /**\n     * Return all data required for rendering.\n     * Rendering libraries will use this to implement their rendering strategy.\n     */\n\n  }, {\n    key: \"getRenderedData\",\n    value: function getRenderedData() {\n      var commits = this.computeRenderedCommits();\n      var branchesPaths = this.computeRenderedBranchesPaths(commits);\n      var commitMessagesX = this.computeCommitMessagesX(branchesPaths);\n      this.computeBranchesColor(commits, branchesPaths);\n      return {\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX\n      };\n    }\n  }, {\n    key: \"createBranch\",\n    value: function createBranch(args) {\n      var _this3 = this;\n\n      var defaultParentBranchName = \"HEAD\";\n      var options = {\n        gitgraph: this,\n        name: \"\",\n        parentCommitHash: this.refs.getCommit(defaultParentBranchName),\n        style: this.template.branch,\n        onGraphUpdate: function onGraphUpdate() {\n          return _this3.next();\n        }\n      };\n\n      if (typeof args === \"string\") {\n        options.name = args;\n        options.parentCommitHash = this.refs.getCommit(defaultParentBranchName);\n      } else {\n        var parentBranchName = args.from ? args.from.name : defaultParentBranchName;\n        var parentCommitHash = this.refs.getCommit(parentBranchName) || (this.refs.hasCommit(args.from) ? args.from : undefined);\n        args.style = args.style || {};\n        options = Object.assign({}, options, args, {\n          parentCommitHash: parentCommitHash,\n          style: Object.assign({}, options.style, args.style, {\n            label: Object.assign({}, options.style.label, args.style.label)\n          })\n        });\n      }\n\n      var branch = new branch_1.Branch(options);\n      this.branches.set(branch.name, branch);\n      return branch;\n    }\n    /**\n     * Return commits with data for rendering.\n     */\n\n  }, {\n    key: \"computeRenderedCommits\",\n    value: function computeRenderedCommits() {\n      var _this4 = this;\n\n      var branches = this.getBranches();\n      var commitsWithBranches = this.commits.map(function (commit) {\n        return _this4.withBranches(branches, commit);\n      });\n      var rows = graph_rows_1.createGraphRows(this.mode, this.commits);\n      var branchesOrder = new branches_order_1.BranchesOrder(commitsWithBranches, this.template.colors, this.branchesOrderFunction);\n      return commitsWithBranches.map(function (commit) {\n        return commit.setRefs(_this4.refs);\n      }).map(function (commit) {\n        return _this4.withPosition(rows, branchesOrder, commit);\n      }) // Fallback commit computed color on branch color.\n      .map(function (commit) {\n        return commit.withDefaultColor(_this4.getBranchDefaultColor(branchesOrder, commit.branchToDisplay));\n      }) // Tags need commit style to be computed (with default color).\n      .map(function (commit) {\n        return commit.setTags(_this4.tags, function (name) {\n          return Object.assign({}, _this4.tagStyles[name], _this4.template.tag);\n        }, function (name) {\n          return _this4.tagRenders[name];\n        });\n      });\n    }\n    /**\n     * Return branches paths with all data required for rendering.\n     *\n     * @param commits List of commits with rendering data computed\n     */\n\n  }, {\n    key: \"computeRenderedBranchesPaths\",\n    value: function computeRenderedBranchesPaths(commits) {\n      var _this5 = this;\n\n      return new branches_paths_1.BranchesPathsCalculator(commits, this.branches, this.template.commit.spacing, this.isVertical, this.isReverse, function () {\n        return branch_1.createDeletedBranch(_this5, _this5.template.branch, function () {\n          return _this5.next();\n        });\n      }).execute();\n    }\n    /**\n     * Set branches colors based on branches paths.\n     *\n     * @param commits List of graph commits\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeBranchesColor\",\n    value: function computeBranchesColor(commits, branchesPaths) {\n      var _this6 = this;\n\n      var branchesOrder = new branches_order_1.BranchesOrder(commits, this.template.colors, this.branchesOrderFunction);\n      Array.from(branchesPaths).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            branch = _ref2[0];\n\n        branch.computedColor = branch.style.color || _this6.getBranchDefaultColor(branchesOrder, branch.name);\n      });\n    }\n    /**\n     * Return commit messages X position for rendering.\n     *\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeCommitMessagesX\",\n    value: function computeCommitMessagesX(branchesPaths) {\n      var numberOfColumns = Array.from(branchesPaths).length;\n      return numberOfColumns * this.template.branch.spacing;\n    }\n    /**\n     * Add `branches` property to commit.\n     *\n     * @param branches All branches mapped by commit hash\n     * @param commit Commit\n     */\n\n  }, {\n    key: \"withBranches\",\n    value: function withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n    /**\n     * Get all branches from current commits.\n     */\n\n  }, {\n    key: \"getBranches\",\n    value: function getBranches() {\n      var _this7 = this;\n\n      var result = new Map();\n      var queue = [];\n      var branches = this.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n      branches.forEach(function (branch) {\n        var commitHash = _this7.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this7.commits.find(function (_ref3) {\n            var hash = _ref3.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n    /**\n     * Add position to given commit.\n     *\n     * @param rows Graph rows\n     * @param branchesOrder Computed order of branches\n     * @param commit Commit to position\n     */\n\n  }, {\n    key: \"withPosition\",\n    value: function withPosition(rows, branchesOrder, commit) {\n      var row = rows.getRowOf(commit.hash);\n      var maxRow = rows.getMaxRow();\n      var order = branchesOrder.get(commit.branchToDisplay);\n\n      switch (this.orientation) {\n        default:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * (maxRow - row)\n          });\n\n        case orientation_1.Orientation.VerticalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * row\n          });\n\n        case orientation_1.Orientation.Horizontal:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * row,\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n\n        case orientation_1.Orientation.HorizontalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * (maxRow - row),\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n      }\n    }\n    /**\n     * Return the default color for given branch.\n     *\n     * @param branchesOrder Computed order of branches\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getBranchDefaultColor\",\n    value: function getBranchDefaultColor(branchesOrder, branchName) {\n      return branchesOrder.getColorOf(branchName);\n    }\n    /**\n     * Tell each listener something new happened.\n     * E.g. a rendering library will know it needs to re-render the graph.\n     */\n\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this8 = this;\n\n      if (this.nextTimeoutId) {\n        window.clearTimeout(this.nextTimeoutId);\n      } // Use setTimeout() with `0` to debounce call to next tick.\n\n\n      this.nextTimeoutId = window.setTimeout(function () {\n        _this8.listeners.forEach(function (listener) {\n          return listener(_this8.getRenderedData());\n        });\n      }, 0);\n    }\n  }, {\n    key: \"isHorizontal\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.Horizontal || this.orientation === orientation_1.Orientation.HorizontalReverse;\n    }\n  }, {\n    key: \"isVertical\",\n    get: function get() {\n      return !this.isHorizontal;\n    }\n  }, {\n    key: \"isReverse\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.HorizontalReverse || this.orientation === orientation_1.Orientation.VerticalReverse;\n    }\n  }, {\n    key: \"shouldDisplayCommitMessage\",\n    get: function get() {\n      return !this.isHorizontal && this.mode !== mode_1.Mode.Compact;\n    }\n  }]);\n\n  return GitgraphCore;\n}();\n\nexports.GitgraphCore = GitgraphCore;","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;"],"sourceRoot":""}