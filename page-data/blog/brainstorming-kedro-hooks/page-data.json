{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/brainstorming-kedro-hooks/","result":{"data":{"markdownRemark":{"id":"7f4443a2-0ba1-5b97-a77d-1dc7f8a17c2d","html":"<p>This post is a ðŸ§  branstorming work in progress.</p>\n<blockquote>\n<h3>What is Kedro ðŸ¤”</h3>\n<p>If you are completely unsure what kedro is be sure to check out my <a href=\"https://waylonwalker.com/wike\">what is kedro</a> post</p>\n</blockquote>\n<h2>after<em>catalog</em>created</h2>\n<ul>\n<li>filepath replacer</li>\n<li>bucket replacer</li>\n</ul>\n<h2>before<em>pipeline</em>run</h2>\n<ul>\n<li>preflight</li>\n<li>check that data exists</li>\n<li>run <code class=\"language-text\">kedro_static_viz</code></li>\n<li>run mypy</li>\n<li>run interrogate</li>\n<li>run flake8</li>\n</ul>\n<h2>after<em>pipeline</em>run</h2>\n<ul>\n<li>Great Expectations</li>\n<li>send email</li>\n<li>send slack</li>\n</ul>\n<h2>before<em>node</em>run</h2>\n<h2>after<em>node</em>run</h2>\n<ul>\n<li>Great Expectations</li>\n<li>save stats/meta data</li>\n<li>*</li>\n</ul>\n<h2>Execution Order</h2>\n<p>hooks are executed in reverse order of the hooks list.</p>\n<p>hooks with <code class=\"language-text\">tryfirst</code> will be moved to the end of the list\nhooks with <code class=\"language-text\">trylast</code> will be moved to the end of the list</p>\n<ol>\n<li>after<em>catalog</em>created</li>\n<li>before<em>pipeline</em>run</li>\n<li>\n<p>args</p>\n<ul>\n<li>run<em>params = run</em>params = {'run<em>id': '2020-05-23T15.24.23.958Z', 'project</em>path': '/mnt/c/temp/kedro0160', 'env': 'local', 'kedro<em>version': '0.15.9', 'tags': (), 'from</em>nodes': [], 'to<em>nodes': [], 'node</em>names': (), 'from<em>inputs': [], 'load</em>versions': {}, 'pipeline<em>name': None, 'extra</em>params': {}, 'git_sha': None}</li>\n<li>pipeline</li>\n<li>catalog</li>\n</ul>\n</li>\n<li>before<em>node</em>run</li>\n<li>after<em>node</em>run</li>\n<li>3.</li>\n</ol>\n<h2>When does data get saved???</h2>\n<ul>\n<li>before or after node hook?</li>\n</ul>\n<h2>??Unsure??</h2>\n<ul>\n<li>\n<p>does before  catalog load have access to parameters?</p>\n<ul>\n<li>Yes</li>\n</ul>\n</li>\n<li>*</li>\n</ul>\n<h3>[steel toes](<a href=\"https://github.com/waylonwalker/steel-toes/\">https://github.com/waylonwalker/steel-toes/</a>)6</h3>\n<p><em>I was way too excited about this one and already created it</em></p>\n<p><em>prevents pain from stepping on your teammates toes</em></p>\n<p>Kedro is so amazing at promoting collaboration between team members.  Each team member can check out the code, branch, and start work on their own section of the pipeline.  Issues can arrise if the team members section of the pipeline happen to cross.  Breaking changes happen, BREAKS during development happen and can completely kill a teammates workflow.</p>\n<ul>\n<li>is there a way to prevent toe stepping?</li>\n<li>try to load <code class=\"language-text\">filepath_&lt;branch&gt;</code></li>\n<li>if load fails try <code class=\"language-text\">filepath</code></li>\n<li>save data to <code class=\"language-text\">filepath_&lt;branch&gt;</code></li>\n</ul>\n<p><strong>how</strong></p>\n<ul>\n<li>on after<em>catalog</em>load check for existing \"branch\" data</li>\n<li>if \"branch\" data exists load that</li>\n<li>otherwise keep default</li>\n<li>*</li>\n</ul>\n<h3>Run only nodes that have changed</h3>\n<ul>\n<li>store a deephash of functions code</li>\n<li>store a hash of the inputs</li>\n<li>\n<p>if neither code or inputs changed run function, otherwise skip.</p>\n<ul>\n<li>How could a hook choose to skip the node?</li>\n</ul>\n</li>\n</ul>\n<h2>Static viz hook</h2>\n<p>Before pipeline run</p>\n<ul>\n<li>make site</li>\n<li>Set node status to queued</li>\n</ul>\n<p>Before node run</p>\n<ul>\n<li>Set running status</li>\n</ul>\n<p>After node run</p>\n<ul>\n<li>Set running status</li>\n</ul>\n<p>On pipeline error</p>\n<ul>\n<li>Set run status</li>\n</ul>\n<p>On node error</p>\n<ul>\n<li>Set error status</li>\n</ul>\n<p>After pipeline run</p>\n<ul>\n<li>Set complete status</li>\n</ul>\n<p>After node run</p>\n<ul>\n<li>set complete</li>\n</ul>","fields":{"slug":"/blog/brainstorming-kedro-hooks/"},"frontmatter":{"date":"2020-05-22T22:02:00.000Z","devto_url":"","devto_id":"","title":"Brainstorming Kedro Hooks","description":"This post is a ðŸ§  branstorming work in progress, I will likely use it as a storage location/brain dump of hook ideas.","path":"brainstorming-kedro-hooks","twitter_cover":null,"cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/brainstorming-kedro-hooks.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB2ElEQVQY02MQV9RX1TV9//JSfGq+T3Csq2+4uYN3R+8UMztPLWN7JU0zJXULLW17NU17MwsPKxsgcreydbOycTG1sGUQVdDTNrY7ffJAbVPnrj0HFi9fu2HL9lu371Y1dJ0+eyUwOFdISsvGyiHIx9HHy9vKxtvewdvazt3M0tHE3JZBUklfXsNU3dDezN7PPzzJwTMsOqUko6De0s5x04ZFE1ojmkrM5nU5z253ykh01tZ3MrdwMjKx0zM01zcyZ5BUNgC6XFpFT8dQV0hGQ0NXO8hfOzpCu6PGdE6HSWaCSVKEtbOdg5Wps4e1m7qOhY6epY6+mY6xva6+GUSzgYKGQXeNdVuFzdR2qxWtfutK02ZG5pe5pqWbp1Valcz27AgwD13nPzHSOlJDW1tPS9ba2sDGGmwzxHIPD2MPd1NRNY1Ik6hdPvP2Bc4rs82d7tE41aPhVfIeD1O/tYETD0XMV1eXlZQQ11OXNDczAWmWUNIHIkFZPSFZfQF5bXNt5163yinudV0uFfUOhRNda6vt8zOskud5tSbZxitq6IkKC8nIq0mrGDFAdAKRpDIIQdhSygZSSgYyykaiirpiSnq88hpCCtpccupiyroqmmaSijriinpAZQDhyImCK3Q7zAAAAABJRU5ErkJggg==","width":1000,"height":420,"src":"/static/b33e3dd9528d0c38429443c73d443eee/a8734/brainstorming-kedro-hooks.png","srcSet":"/static/b33e3dd9528d0c38429443c73d443eee/a8734/brainstorming-kedro-hooks.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB2ElEQVQY02MQV9RX1TV9//JSfGq+T3Csq2+4uYN3R+8UMztPLWN7JU0zJXULLW17NU17MwsPKxsgcreydbOycTG1sGUQVdDTNrY7ffJAbVPnrj0HFi9fu2HL9lu371Y1dJ0+eyUwOFdISsvGyiHIx9HHy9vKxtvewdvazt3M0tHE3JZBUklfXsNU3dDezN7PPzzJwTMsOqUko6De0s5x04ZFE1ojmkrM5nU5z253ykh01tZ3MrdwMjKx0zM01zcyZ5BUNgC6XFpFT8dQV0hGQ0NXO8hfOzpCu6PGdE6HSWaCSVKEtbOdg5Wps4e1m7qOhY6epY6+mY6xva6+GUSzgYKGQXeNdVuFzdR2qxWtfutK02ZG5pe5pqWbp1Valcz27AgwD13nPzHSOlJDW1tPS9ba2sDGGmwzxHIPD2MPd1NRNY1Ik6hdPvP2Bc4rs82d7tE41aPhVfIeD1O/tYETD0XMV1eXlZQQ11OXNDczAWmWUNIHIkFZPSFZfQF5bXNt5163yinudV0uFfUOhRNda6vt8zOskud5tSbZxitq6IkKC8nIq0mrGDFAdAKRpDIIQdhSygZSSgYyykaiirpiSnq88hpCCtpccupiyroqmmaSijriinpAZQDhyImCK3Q7zAAAAABJRU5ErkJggg==","aspectRatio":2.380952380952381,"src":"/static/b33e3dd9528d0c38429443c73d443eee/a8734/brainstorming-kedro-hooks.png","srcSet":"/static/b33e3dd9528d0c38429443c73d443eee/2d6f8/brainstorming-kedro-hooks.png 250w,\n/static/b33e3dd9528d0c38429443c73d443eee/03ac3/brainstorming-kedro-hooks.png 500w,\n/static/b33e3dd9528d0c38429443c73d443eee/a8734/brainstorming-kedro-hooks.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"7f4443a2-0ba1-5b97-a77d-1dc7f8a17c2d"}}}