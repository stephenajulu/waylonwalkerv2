{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./src/components/Tip.js","webpack:///./node_modules/dom-to-image/src/dom-to-image.js"],"names":["init","data","byteOffset","length","this","TipWrapper","styled","div","TipStyles","Tip","download","file","domtoimage","toJpeg","document","getElementById","quality","then","dataUrl","link","createElement","href","click","render","props","html","content","frontmatter","fileAbsolutePath","date","tags","afterImage","filePath","split","slice","tweetLink","encodeURIComponent","meta","name","id","className","dangerouslySetInnerHTML","__html","title","src","alt","onClick","map","tag","ref","React","Component","global","util","escape","string","replace","parseExtension","mimeType","url","extension","toLowerCase","WOFF","dataAsUrl","type","isDataUrl","search","canvasToBlob","canvas","toBlob","Promise","resolve","binaryString","window","atob","toDataURL","binaryArray","Uint8Array","i","charCodeAt","Blob","resolveUrl","baseUrl","doc","implementation","createHTMLDocument","base","head","appendChild","a","body","getAndEncode","impl","options","cacheBust","test","Date","getTime","placeholder","request","XMLHttpRequest","onreadystatechange","readyState","status","fail","encoder","FileReader","onloadend","result","readAsDataURL","response","ontimeout","responseType","timeout","open","send","imagePlaceholder","message","console","error","uid","index","Math","random","pow","toString","delay","ms","arg","setTimeout","asArray","arrayLike","array","push","escapeXhtml","makeImage","uri","reject","image","Image","onload","onerror","width","node","leftBorder","px","rightBorder","scrollWidth","height","topBorder","bottomBorder","scrollHeight","match","exec","styleProperty","value","getComputedStyle","getPropertyValue","parseFloat","newUtil","inliner","URL_REGEX","inlineAll","get","shouldProcess","nothingToInline","readUrls","urls","done","forEach","inline","filter","RegExp","urlAsRegex","newInliner","fontFaces","resolveAll","readAll","webFonts","all","webFont","cssStrings","join","styleSheets","cssRules","sheet","bind","e","log","rule","CSSRule","FONT_FACE_RULE","style","rules","newWebFont","webFontRule","parentStyleSheet","cssText","newFontFaces","images","Element","background","inlined","setProperty","getPropertyPriority","inlineBackground","HTMLImageElement","newImage","childNodes","child","element","newImages","defaultOptions","undefined","toSvg","toPng","draw","toPixelData","getContext","getImageData","copyOptions","cloneNode","root","HTMLCanvasElement","clone","cloneChildren","original","cloneStyle","clonePseudoElements","copyUserInput","fixSvg","source","target","copyProperties","styleElement","selector","formatCssText","formatCssProperties","createTextNode","formatPseudoElementStyle","clonePseudoElement","HTMLTextAreaElement","innerHTML","HTMLInputElement","setAttribute","SVGElement","SVGRectElement","attribute","getAttribute","processClone","children","cloneChildrenInOrder","parent","childClone","embedFonts","inlineImages","bgcolor","backgroundColor","Object","keys","property","XMLSerializer","serializeToString","xhtml","foreignObject","svg","makeSvgDataUri","domNode","ctx","fillStyle","fillRect","newCanvas","drawImage","styleNode","module","exports"],"mappings":"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","file":"bcfbd6c5a3d1d85737f683185a4404eb0d70b63b-e3075394431774cc9361.js","sourcesContent":["require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","\nimport React from 'react'\nimport Helmet from 'react-helmet'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n// import { graphql, Link } from 'gatsby'\nimport domtoimage from 'dom-to-image'\n// import html2canvas from 'html2canvas'\n// import pdfmake from 'pdfmake'\n// import Img from 'gatsby-image'\nimport { FiCamera, FiTwitter } from 'react-icons/fi'\n\n\nconst TipWrapper = styled.div`\nheight: max(90vh, 512px);\nwidth: max(100vw, 1024px);\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\nposition: relative;\nmargin: -150px auto;\n\n.tag {\n  margin: 0;\n  margin-right: 1rem;\n}\n\n\n\n.btn {\n    margin-top: 4rem;\n    border: none;\n    display: block;\n    background: white;\n    text-align: center;\n    text-transform: uppercase;\n    font-weight: bold;\n    padding: 1rem;\n    border-radius: 5px;\n    background: linear-gradient(120deg, hsla(323deg, 100%, 90%, 1) 0%, #D68FBB 50%);\n    font-size:1.5rem;\n    color: #2B2E37;\n}\n\na.btn {\n  transform: rotate(2deg);\n}\n\n.camera {\n  position: absolute;\n  top: 200px;\n  /* right: 20px; */\n  margin-left: 512px;\n  transform: rotate(5deg);\n}\n\n.twitter {\n  position: absolute;\n  display: block;\n  top: calc(200px + 512px);\n  /* right: 20px; */\n  margin-left: 512px;\n  transform: rotate(-3deg) !important;\n}\n\n`\n\n\nconst TipStyles = styled.div`\nfont-size: 1.2rem;\noverflow: hidden;\nword-wrap: break-word;\np {\n  font-size: 2rem;\n  line-height: 2.8rem;\n  padding: 0 2rem;\n}\nheight: min(100vh, 512px);\nwidth: min(100vw, 1024px);\nbackground: linear-gradient(81deg,rgba(40,44,52,1) 0%,rgba(58,46,61,1) 100%);\nposition: relative;\n#halftone-overlay {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-image: url('/halftone-simple-alpha.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  top: -250px;\n  left: -200px;\n  transform: rotate(-25deg);\n  /* opacity: 0.1; */\n}\n#blob-overlay {\n  width: 100%;\n  height: 50%;\n  img{\n  width: 100%;\n  height: 70%;\n  right: 0px;\n  position: absolute;\n  background-repeat: no-repeat;\n  background-size: cover;\n  filter: blur(2px);\n  }\n}\n\nborder: 5px solid black;\ntext-align: center;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\nstrong {\n  font-size: 2.2rem;\n  color: #DAA520;\n  display: inline-block;\n  transform: rotate(-10deg);\n}\n\nem {\n  color: #FF66C4;\n  display: inline-block;\n  transform: rotate(2deg);\n}\n\n.footer {\n  display: flex;\n  width: 600px;\n  justify-content: space-between;\n  align-items: center;\n}\nimg.after-image {\n  max-width: 120px;\n  max-height: 120px;\n  margin: -60px;\n}\n\n`\n\nclass Tip extends React.Component {\n  download = (file) => {\n    domtoimage.toJpeg(document.getElementById(`tip-${file}`), { quality: 0.98 })\n      .then(function (dataUrl) {\n        var link = document.createElement('a');\n        link.download = `ww-hot-tip-${file}.jpg`;\n        link.href = dataUrl;\n        link.click();\n      });\n  }\n\n\n\n  render() {\n    const {\n      html,\n      content,\n      frontmatter,\n      fileAbsolutePath\n    } = this.props\n    const { date, tags, afterImage } = frontmatter\n    const filePath = fileAbsolutePath.split('/')\n    const file = filePath[filePath.length - 1].slice(0, -3)\n    const link = `https://waylonwalker.com/hot-tips/${file}`\n    const tweetLink = `https://twitter.com/intent/tweet?text=${encodeURIComponent(content.slice(0, 150)) + '%0A%0A@waylonwalker%0A%0A' + link}`\n\n\n    return (\n      <>\n        <Helmet\n          meta={[\n            { name: 'og:title', content: content.slice(0, 65) + ' | Waylon Walker' },\n            { name: 'og:article:published_time', content: date },\n            { name: 'og:article:modified_time', content: date },\n            { name: 'og:description', content: content },\n            { name: 'description', content: content },\n            { name: 'twitter:title', content: content.slice(0, 65) + ' | Waylon Walker' },\n            { name: 'twitter:image', content: `https://www.waylonwalker.com/ww-hot-tip-${file}.jpg` },\n            { name: 'twitter:card', content: 'summary_large_image' },\n            { name: 'twitter:description', content: content },\n            { name: 'og:image', content: `https://www.waylonwalker.com/ww-hot-tip-${file}.jpg` },\n            { name: 'og:image:width', content: '1024' },\n            { name: 'og:image:height', content: '512' },\n          ]}\n\n        >\n          <title>{content.slice(0, 65)}</title>\n        </Helmet>\n        <TipWrapper id='tip-wrapper'>\n\n          <TipStyles id={`tip-${file}`}>\n            <div id='halftone-overlay' />\n            {/* <div id='blob-overlay' ><img src='/light-blob-alpha2.png' alt='a hazy background blob effect' /></div> */}\n            <div className=\"tip-content\" dangerouslySetInnerHTML={{ __html: html }} />\n            <div className='footer'>\n              <a href={`/hot_tips/${file}`} title='link to tip'>{link}</a>\n              <img className='after-image' src={afterImage} alt='footer logo inside of the tip' />\n            </div>\n          </TipStyles>\n          <button className='btn camera' title='download an image of this tip' onClick={() => this.download(`${file}`)} ><FiCamera /></button>\n          <div className='tags'>{tags.map(tag => <a ref={`https://waylonwalker.com/hot-tips/tag/${tag}`} className=\"tag\" >{tag}</a>)}</div>\n          <a className='btn twitter' href={tweetLink} title='share this tip on twitter'> <FiTwitter /> </a>\n        </TipWrapper>\n        <div id=\"canvas\"></div>\n      </>\n    )\n  }\n}\n\nTip.propTypes = {\n  date: PropTypes.string,\n  fileAbsolutePath: PropTypes.string,\n  tags: PropTypes.string,\n  content: PropTypes.string,\n  afterImage: PropTypes.string,\n}\n\n\n\n\n\n\nexport default Tip\n","require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.typed.uint8-array\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n(function (global) {\n  'use strict';\n\n  var util = newUtil();\n  var inliner = newInliner();\n  var fontFaces = newFontFaces();\n  var images = newImages(); // Default impl options\n\n  var defaultOptions = {\n    // Default is to fail on error, no placeholder\n    imagePlaceholder: undefined,\n    // Default cache bust is false, it will use the cache\n    cacheBust: false\n  };\n  var domtoimage = {\n    toSvg: toSvg,\n    toPng: toPng,\n    toJpeg: toJpeg,\n    toBlob: toBlob,\n    toPixelData: toPixelData,\n    impl: {\n      fontFaces: fontFaces,\n      images: images,\n      util: util,\n      inliner: inliner,\n      options: {}\n    }\n  };\n  if (typeof module !== 'undefined') module.exports = domtoimage;else global.domtoimage = domtoimage;\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options\n   * @param {Function} options.filter - Should return true if passed node should be included in the output\n   *          (excluding node means excluding it's children as well). Not called on the root node.\n   * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n   * @param {Number} options.width - width to be applied to node before rendering.\n   * @param {Number} options.height - height to be applied to node before rendering.\n   * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n   * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n              defaults to 1.0.\n   * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n   * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n   * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n   * */\n\n  function toSvg(node, options) {\n    options = options || {};\n    copyOptions(options);\n    return Promise.resolve(node).then(function (node) {\n      return cloneNode(node, options.filter, true);\n    }).then(embedFonts).then(inlineImages).then(applyOptions).then(function (clone) {\n      return makeSvgDataUri(clone, options.width || util.width(node), options.height || util.height(node));\n    });\n\n    function applyOptions(clone) {\n      if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n      if (options.width) clone.style.width = options.width + 'px';\n      if (options.height) clone.style.height = options.height + 'px';\n      if (options.style) Object.keys(options.style).forEach(function (property) {\n        clone.style[property] = options.style[property];\n      });\n      return clone;\n    }\n  }\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n   * */\n\n\n  function toPixelData(node, options) {\n    return draw(node, options || {}).then(function (canvas) {\n      return canvas.getContext('2d').getImageData(0, 0, util.width(node), util.height(node)).data;\n    });\n  }\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n   * */\n\n\n  function toPng(node, options) {\n    return draw(node, options || {}).then(function (canvas) {\n      return canvas.toDataURL();\n    });\n  }\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n   * */\n\n\n  function toJpeg(node, options) {\n    options = options || {};\n    return draw(node, options).then(function (canvas) {\n      return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n    });\n  }\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a PNG image blob\n   * */\n\n\n  function toBlob(node, options) {\n    return draw(node, options || {}).then(util.canvasToBlob);\n  }\n\n  function copyOptions(options) {\n    // Copy options to impl options for use in impl\n    if (typeof options.imagePlaceholder === 'undefined') {\n      domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n    } else {\n      domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n    }\n\n    if (typeof options.cacheBust === 'undefined') {\n      domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n    } else {\n      domtoimage.impl.options.cacheBust = options.cacheBust;\n    }\n  }\n\n  function draw(domNode, options) {\n    return toSvg(domNode, options).then(util.makeImage).then(util.delay(100)).then(function (image) {\n      var canvas = newCanvas(domNode);\n      canvas.getContext('2d').drawImage(image, 0, 0);\n      return canvas;\n    });\n\n    function newCanvas(domNode) {\n      var canvas = document.createElement('canvas');\n      canvas.width = options.width || util.width(domNode);\n      canvas.height = options.height || util.height(domNode);\n\n      if (options.bgcolor) {\n        var ctx = canvas.getContext('2d');\n        ctx.fillStyle = options.bgcolor;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      }\n\n      return canvas;\n    }\n  }\n\n  function cloneNode(node, filter, root) {\n    if (!root && filter && !filter(node)) return Promise.resolve();\n    return Promise.resolve(node).then(makeNodeCopy).then(function (clone) {\n      return cloneChildren(node, clone, filter);\n    }).then(function (clone) {\n      return processClone(node, clone);\n    });\n\n    function makeNodeCopy(node) {\n      if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n      return node.cloneNode(false);\n    }\n\n    function cloneChildren(original, clone, filter) {\n      var children = original.childNodes;\n      if (children.length === 0) return Promise.resolve(clone);\n      return cloneChildrenInOrder(clone, util.asArray(children), filter).then(function () {\n        return clone;\n      });\n\n      function cloneChildrenInOrder(parent, children, filter) {\n        var done = Promise.resolve();\n        children.forEach(function (child) {\n          done = done.then(function () {\n            return cloneNode(child, filter);\n          }).then(function (childClone) {\n            if (childClone) parent.appendChild(childClone);\n          });\n        });\n        return done;\n      }\n    }\n\n    function processClone(original, clone) {\n      if (!(clone instanceof Element)) return clone;\n      return Promise.resolve().then(cloneStyle).then(clonePseudoElements).then(copyUserInput).then(fixSvg).then(function () {\n        return clone;\n      });\n\n      function cloneStyle() {\n        copyStyle(window.getComputedStyle(original), clone.style);\n\n        function copyStyle(source, target) {\n          if (source.cssText) target.cssText = source.cssText;else copyProperties(source, target);\n\n          function copyProperties(source, target) {\n            util.asArray(source).forEach(function (name) {\n              target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n            });\n          }\n        }\n      }\n\n      function clonePseudoElements() {\n        [':before', ':after'].forEach(function (element) {\n          clonePseudoElement(element);\n        });\n\n        function clonePseudoElement(element) {\n          var style = window.getComputedStyle(original, element);\n          var content = style.getPropertyValue('content');\n          if (content === '' || content === 'none') return;\n          var className = util.uid();\n          clone.className = clone.className + ' ' + className;\n          var styleElement = document.createElement('style');\n          styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n          clone.appendChild(styleElement);\n\n          function formatPseudoElementStyle(className, element, style) {\n            var selector = '.' + className + ':' + element;\n            var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n            return document.createTextNode(selector + '{' + cssText + '}');\n\n            function formatCssText(style) {\n              var content = style.getPropertyValue('content');\n              return style.cssText + ' content: ' + content + ';';\n            }\n\n            function formatCssProperties(style) {\n              return util.asArray(style).map(formatProperty).join('; ') + ';';\n\n              function formatProperty(name) {\n                return name + ': ' + style.getPropertyValue(name) + (style.getPropertyPriority(name) ? ' !important' : '');\n              }\n            }\n          }\n        }\n      }\n\n      function copyUserInput() {\n        if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n        if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n      }\n\n      function fixSvg() {\n        if (!(clone instanceof SVGElement)) return;\n        clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n        if (!(clone instanceof SVGRectElement)) return;\n        ['width', 'height'].forEach(function (attribute) {\n          var value = clone.getAttribute(attribute);\n          if (!value) return;\n          clone.style.setProperty(attribute, value);\n        });\n      }\n    }\n  }\n\n  function embedFonts(node) {\n    return fontFaces.resolveAll().then(function (cssText) {\n      var styleNode = document.createElement('style');\n      node.appendChild(styleNode);\n      styleNode.appendChild(document.createTextNode(cssText));\n      return node;\n    });\n  }\n\n  function inlineImages(node) {\n    return images.inlineAll(node).then(function () {\n      return node;\n    });\n  }\n\n  function makeSvgDataUri(node, width, height) {\n    return Promise.resolve(node).then(function (node) {\n      node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n      return new XMLSerializer().serializeToString(node);\n    }).then(util.escapeXhtml).then(function (xhtml) {\n      return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n    }).then(function (foreignObject) {\n      return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' + foreignObject + '</svg>';\n    }).then(function (svg) {\n      return 'data:image/svg+xml;charset=utf-8,' + svg;\n    });\n  }\n\n  function newUtil() {\n    return {\n      escape: escape,\n      parseExtension: parseExtension,\n      mimeType: mimeType,\n      dataAsUrl: dataAsUrl,\n      isDataUrl: isDataUrl,\n      canvasToBlob: canvasToBlob,\n      resolveUrl: resolveUrl,\n      getAndEncode: getAndEncode,\n      uid: uid(),\n      delay: delay,\n      asArray: asArray,\n      escapeXhtml: escapeXhtml,\n      makeImage: makeImage,\n      width: width,\n      height: height\n    };\n\n    function mimes() {\n      /*\n       * Only WOFF and EOT mime types for fonts are 'real'\n       * see http://www.iana.org/assignments/media-types/media-types.xhtml\n       */\n      var WOFF = 'application/font-woff';\n      var JPEG = 'image/jpeg';\n      return {\n        'woff': WOFF,\n        'woff2': WOFF,\n        'ttf': 'application/font-truetype',\n        'eot': 'application/vnd.ms-fontobject',\n        'png': 'image/png',\n        'jpg': JPEG,\n        'jpeg': JPEG,\n        'gif': 'image/gif',\n        'tiff': 'image/tiff',\n        'svg': 'image/svg+xml'\n      };\n    }\n\n    function parseExtension(url) {\n      var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n      if (match) return match[1];else return '';\n    }\n\n    function mimeType(url) {\n      var extension = parseExtension(url).toLowerCase();\n      return mimes()[extension] || '';\n    }\n\n    function isDataUrl(url) {\n      return url.search(/^(data:)/) !== -1;\n    }\n\n    function toBlob(canvas) {\n      return new Promise(function (resolve) {\n        var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        var length = binaryString.length;\n        var binaryArray = new Uint8Array(length);\n\n        for (var i = 0; i < length; i++) {\n          binaryArray[i] = binaryString.charCodeAt(i);\n        }\n\n        resolve(new Blob([binaryArray], {\n          type: 'image/png'\n        }));\n      });\n    }\n\n    function canvasToBlob(canvas) {\n      if (canvas.toBlob) return new Promise(function (resolve) {\n        canvas.toBlob(resolve);\n      });\n      return toBlob(canvas);\n    }\n\n    function resolveUrl(url, baseUrl) {\n      var doc = document.implementation.createHTMLDocument();\n      var base = doc.createElement('base');\n      doc.head.appendChild(base);\n      var a = doc.createElement('a');\n      doc.body.appendChild(a);\n      base.href = baseUrl;\n      a.href = url;\n      return a.href;\n    }\n\n    function uid() {\n      var index = 0;\n      return function () {\n        return 'u' + fourRandomChars() + index++;\n\n        function fourRandomChars() {\n          /* see http://stackoverflow.com/a/6248722/2519373 */\n          return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n        }\n      };\n    }\n\n    function makeImage(uri) {\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n\n        image.onload = function () {\n          resolve(image);\n        };\n\n        image.onerror = reject;\n        image.src = uri;\n      });\n    }\n\n    function getAndEncode(url) {\n      var TIMEOUT = 30000;\n\n      if (domtoimage.impl.options.cacheBust) {\n        // Cache bypass so we dont have CORS issues with cached images\n        // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n        url += (/\\?/.test(url) ? \"&\" : \"?\") + new Date().getTime();\n      }\n\n      return new Promise(function (resolve) {\n        var request = new XMLHttpRequest();\n        request.onreadystatechange = done;\n        request.ontimeout = timeout;\n        request.responseType = 'blob';\n        request.timeout = TIMEOUT;\n        request.open('GET', url, true);\n        request.send();\n        var placeholder;\n\n        if (domtoimage.impl.options.imagePlaceholder) {\n          var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n\n          if (split && split[1]) {\n            placeholder = split[1];\n          }\n        }\n\n        function done() {\n          if (request.readyState !== 4) return;\n\n          if (request.status !== 200) {\n            if (placeholder) {\n              resolve(placeholder);\n            } else {\n              fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n            }\n\n            return;\n          }\n\n          var encoder = new FileReader();\n\n          encoder.onloadend = function () {\n            var content = encoder.result.split(/,/)[1];\n            resolve(content);\n          };\n\n          encoder.readAsDataURL(request.response);\n        }\n\n        function timeout() {\n          if (placeholder) {\n            resolve(placeholder);\n          } else {\n            fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n          }\n        }\n\n        function fail(message) {\n          console.error(message);\n          resolve('');\n        }\n      });\n    }\n\n    function dataAsUrl(content, type) {\n      return 'data:' + type + ';base64,' + content;\n    }\n\n    function escape(string) {\n      return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    }\n\n    function delay(ms) {\n      return function (arg) {\n        return new Promise(function (resolve) {\n          setTimeout(function () {\n            resolve(arg);\n          }, ms);\n        });\n      };\n    }\n\n    function asArray(arrayLike) {\n      var array = [];\n      var length = arrayLike.length;\n\n      for (var i = 0; i < length; i++) {\n        array.push(arrayLike[i]);\n      }\n\n      return array;\n    }\n\n    function escapeXhtml(string) {\n      return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n    }\n\n    function width(node) {\n      var leftBorder = px(node, 'border-left-width');\n      var rightBorder = px(node, 'border-right-width');\n      return node.scrollWidth + leftBorder + rightBorder;\n    }\n\n    function height(node) {\n      var topBorder = px(node, 'border-top-width');\n      var bottomBorder = px(node, 'border-bottom-width');\n      return node.scrollHeight + topBorder + bottomBorder;\n    }\n\n    function px(node, styleProperty) {\n      var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n      return parseFloat(value.replace('px', ''));\n    }\n  }\n\n  function newInliner() {\n    var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n    return {\n      inlineAll: inlineAll,\n      shouldProcess: shouldProcess,\n      impl: {\n        readUrls: readUrls,\n        inline: inline\n      }\n    };\n\n    function shouldProcess(string) {\n      return string.search(URL_REGEX) !== -1;\n    }\n\n    function readUrls(string) {\n      var result = [];\n      var match;\n\n      while ((match = URL_REGEX.exec(string)) !== null) {\n        result.push(match[1]);\n      }\n\n      return result.filter(function (url) {\n        return !util.isDataUrl(url);\n      });\n    }\n\n    function inline(string, url, baseUrl, get) {\n      return Promise.resolve(url).then(function (url) {\n        return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n      }).then(get || util.getAndEncode).then(function (data) {\n        return util.dataAsUrl(data, util.mimeType(url));\n      }).then(function (dataUrl) {\n        return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n      });\n\n      function urlAsRegex(url) {\n        return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n      }\n    }\n\n    function inlineAll(string, baseUrl, get) {\n      if (nothingToInline()) return Promise.resolve(string);\n      return Promise.resolve(string).then(readUrls).then(function (urls) {\n        var done = Promise.resolve(string);\n        urls.forEach(function (url) {\n          done = done.then(function (string) {\n            return inline(string, url, baseUrl, get);\n          });\n        });\n        return done;\n      });\n\n      function nothingToInline() {\n        return !shouldProcess(string);\n      }\n    }\n  }\n\n  function newFontFaces() {\n    return {\n      resolveAll: resolveAll,\n      impl: {\n        readAll: readAll\n      }\n    };\n\n    function resolveAll() {\n      return readAll(document).then(function (webFonts) {\n        return Promise.all(webFonts.map(function (webFont) {\n          return webFont.resolve();\n        }));\n      }).then(function (cssStrings) {\n        return cssStrings.join('\\n');\n      });\n    }\n\n    function readAll() {\n      return Promise.resolve(util.asArray(document.styleSheets)).then(getCssRules).then(selectWebFontRules).then(function (rules) {\n        return rules.map(newWebFont);\n      });\n\n      function selectWebFontRules(cssRules) {\n        return cssRules.filter(function (rule) {\n          return rule.type === CSSRule.FONT_FACE_RULE;\n        }).filter(function (rule) {\n          return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n        });\n      }\n\n      function getCssRules(styleSheets) {\n        var cssRules = [];\n        styleSheets.forEach(function (sheet) {\n          try {\n            util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n          } catch (e) {\n            console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n          }\n        });\n        return cssRules;\n      }\n\n      function newWebFont(webFontRule) {\n        return {\n          resolve: function resolve() {\n            var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n            return inliner.inlineAll(webFontRule.cssText, baseUrl);\n          },\n          src: function src() {\n            return webFontRule.style.getPropertyValue('src');\n          }\n        };\n      }\n    }\n  }\n\n  function newImages() {\n    return {\n      inlineAll: inlineAll,\n      impl: {\n        newImage: newImage\n      }\n    };\n\n    function newImage(element) {\n      return {\n        inline: inline\n      };\n\n      function inline(get) {\n        if (util.isDataUrl(element.src)) return Promise.resolve();\n        return Promise.resolve(element.src).then(get || util.getAndEncode).then(function (data) {\n          return util.dataAsUrl(data, util.mimeType(element.src));\n        }).then(function (dataUrl) {\n          return new Promise(function (resolve, reject) {\n            element.onload = resolve;\n            element.onerror = reject;\n            element.src = dataUrl;\n          });\n        });\n      }\n    }\n\n    function inlineAll(node) {\n      if (!(node instanceof Element)) return Promise.resolve(node);\n      return inlineBackground(node).then(function () {\n        if (node instanceof HTMLImageElement) return newImage(node).inline();else return Promise.all(util.asArray(node.childNodes).map(function (child) {\n          return inlineAll(child);\n        }));\n      });\n\n      function inlineBackground(node) {\n        var background = node.style.getPropertyValue('background');\n        if (!background) return Promise.resolve(node);\n        return inliner.inlineAll(background).then(function (inlined) {\n          node.style.setProperty('background', inlined, node.style.getPropertyPriority('background'));\n        }).then(function () {\n          return node;\n        });\n      }\n    }\n  }\n})(this);"],"sourceRoot":""}